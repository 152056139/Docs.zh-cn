---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options
title: 数据存储选项 （使用 Azure 构建真实世界云应用） |Microsoft 文档
author: MikeWasson
description: 构建真实世界云应用程序与 Azure 的电子书基于由 Scott Guthrie 的演示。 它还说明了 13 模式和实践，他可以...
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/12/2014
ms.topic: article
ms.assetid: e51fcecb-cb33-4f9e-8428-6d2b3d0fe1bf
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options
msc.type: authoredcontent
ms.openlocfilehash: d638dca331cb24c340a4471e5964a00b75bb608a
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/06/2018
---
<a name="data-storage-options-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="d290b-104">数据存储选项 （使用 Azure 构建真实世界云应用）</span><span class="sxs-lookup"><span data-stu-id="d290b-104">Data Storage Options (Building Real-World Cloud Apps with Azure)</span></span>
====================
<span data-ttu-id="d290b-105">通过[Mike Wasson](https://github.com/MikeWasson)， [Rick Anderson](https://github.com/Rick-Anderson)， [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="d290b-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="d290b-106">[下载修复此错误项目](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4)或[下载电子书](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="d290b-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="d290b-107">**构建真实世界云应用程序与 Azure**电子书基于由 Scott Guthrie 的演示。</span><span class="sxs-lookup"><span data-stu-id="d290b-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="d290b-108">它还说明了 13 模式和实践，从而帮助你为成功开发适用于云中的 web 应用。</span><span class="sxs-lookup"><span data-stu-id="d290b-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="d290b-109">有关电子书的信息，请参阅[第一章](introduction.md)。</span><span class="sxs-lookup"><span data-stu-id="d290b-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>


<span data-ttu-id="d290b-110">大多数人习惯于关系数据库，并他们往往会忽略其他数据存储选项，当它们设计云应用程序时。</span><span class="sxs-lookup"><span data-stu-id="d290b-110">Most people are used to relational databases, and they tend to overlook other data storage options when they're designing a cloud app.</span></span> <span data-ttu-id="d290b-111">将会导致并非最佳的性能、 高支出或较差，因为[NoSQL](http://en.wikipedia.org/wiki/NoSQL) （非关系） 数据库可以处理某些任务比关系数据库更为高效。</span><span class="sxs-lookup"><span data-stu-id="d290b-111">The result can be suboptimal performance, high expenses, or worse, because [NoSQL](http://en.wikipedia.org/wiki/NoSQL) (non-relational) databases can handle some tasks more efficiently than relational databases.</span></span> <span data-ttu-id="d290b-112">如果客户寻求帮助解决关键数据存储问题，通常是因为它们具有其中 NoSQL 选项之一会起作用更好地关系数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-112">When customers ask us for help resolving a critical data storage problem, it's often because they have a relational database where one of the NoSQL options would have worked better.</span></span> <span data-ttu-id="d290b-113">在这些情况下客户将做得更好关闭如果他们已在应用程序部署到生产环境之前实施 NoSQL 解决方案。</span><span class="sxs-lookup"><span data-stu-id="d290b-113">In those situations the customer would have been better off if they had implemented the NoSQL solution before deploying the app to production.</span></span>

<span data-ttu-id="d290b-114">另一方面，这也是一个错误假定 NoSQL 数据库可以执行一切操作，良好，甚至还不够。</span><span class="sxs-lookup"><span data-stu-id="d290b-114">On the other hand, it would also be a mistake to assume that a NoSQL database can do everything well or well enough.</span></span> <span data-ttu-id="d290b-115">所有数据存储任务; 没有单个最佳数据管理选项不同的数据管理解决方案为不同任务进行了优化。</span><span class="sxs-lookup"><span data-stu-id="d290b-115">There is no single best data management choice for all data storage tasks; different data management solutions are optimized for different tasks.</span></span> <span data-ttu-id="d290b-116">大多数真实世界云应用程序具有的多种数据存储要求，并且通常由提供服务最佳组合的多个数据存储解决方案。</span><span class="sxs-lookup"><span data-stu-id="d290b-116">Most real-world cloud apps have a variety of data storage requirements and are often served best by a combination of multiple data storage solutions.</span></span>

<span data-ttu-id="d290b-117">本章旨在为你提供可用的数据存储选项的更广泛的意义上云应用程序，以及有关如何选择适合你方案的一些基本指导。</span><span class="sxs-lookup"><span data-stu-id="d290b-117">The purpose of this chapter is to give you a broader sense of the data storage options available to a cloud app, and some basic guidance on how to choose the ones that fit your scenario.</span></span> <span data-ttu-id="d290b-118">最好的选项供你了解并考虑其优点和缺点之后再开发应用程序。</span><span class="sxs-lookup"><span data-stu-id="d290b-118">It's best to be aware of the options available to you and think about their strengths and weaknesses before you develop an application.</span></span> <span data-ttu-id="d290b-119">更改在生产应用程序中的数据存储选项可能会极其困难，如同拥有平面处于飞行状态时更改 jet 引擎。</span><span class="sxs-lookup"><span data-stu-id="d290b-119">Changing data storage options in a production app can be extremely difficult, like having to change a jet engine while the plane is in flight.</span></span>

## <a name="data-storage-options-on-azure"></a><span data-ttu-id="d290b-120">在 Azure 上的数据存储选项</span><span class="sxs-lookup"><span data-stu-id="d290b-120">Data storage options on Azure</span></span>

<span data-ttu-id="d290b-121">云可以相对轻松，使用各种关系和 NoSQL 数据存储。</span><span class="sxs-lookup"><span data-stu-id="d290b-121">The cloud makes it relatively easy to use a variety of relational and NoSQL data stores.</span></span> <span data-ttu-id="d290b-122">以下是一些可以在 Azure 中使用的数据存储平台。</span><span class="sxs-lookup"><span data-stu-id="d290b-122">Here are some of the data storage platforms that you can use in Azure.</span></span>

![](data-storage-options/_static/image1.png)

<span data-ttu-id="d290b-123">下表显示了四种类型的 NoSQL 数据库：</span><span class="sxs-lookup"><span data-stu-id="d290b-123">The table shows four types of NoSQL databases:</span></span>

- <span data-ttu-id="d290b-124">[键/值数据库](https://msdn.microsoft.com/library/dn313285.aspx#sec7)存储每个键值的单个序列化的对象。</span><span class="sxs-lookup"><span data-stu-id="d290b-124">[Key/value databases](https://msdn.microsoft.com/library/dn313285.aspx#sec7) store a single serialized object for each key value.</span></span> <span data-ttu-id="d290b-125">它们适合存储大量数据，其中你想要针对给定的密钥值获取一个项，你不具有基于项的其他属性的查询。</span><span class="sxs-lookup"><span data-stu-id="d290b-125">They're good for storing large volumes of data where you want to get one item for a given key value and you don't have to query based on other properties of the item.</span></span>

    <span data-ttu-id="d290b-126">[Azure Blob 存储](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-blobs/)是函数类似文件存储在云中，使用对应文件夹和文件名称的密钥值的键/值数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-126">[Azure Blob storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-blobs/) is a key/value database that functions like file storage in the cloud, with key values that correspond to folder and file names.</span></span> <span data-ttu-id="d290b-127">检索由其文件夹和文件名称，而不是在搜索文件内容中的值的文件。</span><span class="sxs-lookup"><span data-stu-id="d290b-127">You retrieve a file by its folder and file name, not by searching for values in the file contents.</span></span>

    <span data-ttu-id="d290b-128">[Azure 表存储](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-tables/)也是一个键/值的数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-128">[Azure Table storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-tables/) is also a key/value database.</span></span> <span data-ttu-id="d290b-129">每个值称为*实体*（类似于一个行，由分区键和行键标识） 和包含多个*属性*(类似于列，但并非所有表中的实体都必须共享相同列）。</span><span class="sxs-lookup"><span data-stu-id="d290b-129">Each value is called an *entity* (similar to a row, identified by a partition key and row key) and contains multiple *properties* (similar to columns, but not all entities in a table have to share the same columns).</span></span> <span data-ttu-id="d290b-130">对与键不同的列的查询非常低效，应当避免。</span><span class="sxs-lookup"><span data-stu-id="d290b-130">Querying on columns other than the key is extremely inefficient and should be avoided.</span></span> <span data-ttu-id="d290b-131">例如，你可以使用存储有关单个用户的信息的一个分区来存储用户配置文件数据。</span><span class="sxs-lookup"><span data-stu-id="d290b-131">For example, you can store user profile data, with one partition storing information about a single user.</span></span> <span data-ttu-id="d290b-132">在单独的一个实体的属性或在同一个分区中的不同实体，你可以存储数据，例如用户名、 密码哈希、 出生日期等。</span><span class="sxs-lookup"><span data-stu-id="d290b-132">You could store data such as user name, password hash, birth date, and so forth, in separate properties of one entity or in separate entities in the same partition.</span></span> <span data-ttu-id="d290b-133">您不想要为所有用户提供的出生日期，给定范围查询，但无法之间配置文件表与另一个表执行联接查询。</span><span class="sxs-lookup"><span data-stu-id="d290b-133">But you wouldn't want to query for all users with a given range of birth dates, and you can't execute a join query between your profile table and another table.</span></span> <span data-ttu-id="d290b-134">表存储是更具伸缩性和成本高于关系数据库中，但它并不启用复杂的查询或联接。</span><span class="sxs-lookup"><span data-stu-id="d290b-134">Table storage is more scalable and less expensive than a relational database, but it doesn't enable complex queries or joins.</span></span>
- <span data-ttu-id="d290b-135">[Documentdatabases](https://msdn.microsoft.com/library/dn313285.aspx#sec8)的值是在其中的键/值数据库*文档*。</span><span class="sxs-lookup"><span data-stu-id="d290b-135">[Documentdatabases](https://msdn.microsoft.com/library/dn313285.aspx#sec8) are key/value databases in which the values are *documents*.</span></span> <span data-ttu-id="d290b-136">"文档"此处未使用在 Word 或 Excel 的文档的意义上，但意味着命名的字段和值，其中的任何可能是子文档的集合。</span><span class="sxs-lookup"><span data-stu-id="d290b-136">"Document" here isn't used in the sense of a Word or Excel document but means a collection of named fields and values, any of which could be a child document.</span></span> <span data-ttu-id="d290b-137">例如，订单历史记录表中可能具有的订单文档，订单编号、 订单日期和客户字段;和客户字段可能具有名称和地址字段。</span><span class="sxs-lookup"><span data-stu-id="d290b-137">For example, in an order history table an order document might have order number, order date, and customer fields; and the customer field might have name and address fields.</span></span> <span data-ttu-id="d290b-138">数据库将编码格式如 XML、 YAML、 JSON 或 BSON; 中的字段数据也可以使用纯文本。</span><span class="sxs-lookup"><span data-stu-id="d290b-138">The database encodes field data in a format such as XML, YAML, JSON, or BSON; or it can use plain text.</span></span> <span data-ttu-id="d290b-139">设置文档键/值数据库之外的数据库的一个功能是能够在非键字段上查询和定义辅助索引，以使查询更高效。</span><span class="sxs-lookup"><span data-stu-id="d290b-139">One feature that sets document databases apart from key/value databases is the ability to query on non-key fields and define secondary indexes to make querying more efficient.</span></span> <span data-ttu-id="d290b-140">此功能使得文档数据库更适合应用程序需要检索基于条件比文档键的值更复杂的数据。</span><span class="sxs-lookup"><span data-stu-id="d290b-140">This ability makes a document database more suitable for applications that need to retrieve data based on criteria more complex than the value of the document key.</span></span> <span data-ttu-id="d290b-141">例如，销售订单历史记录文档数据库中您可以查询如产品 ID、 客户 ID、 客户名称和等的各个字段上。</span><span class="sxs-lookup"><span data-stu-id="d290b-141">For example, in a sales order history document database you could query on various fields such as product ID, customer ID, customer name, and so forth.</span></span> <span data-ttu-id="d290b-142">[MongoDB](http://www.mongodb.org/)是常用文档数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-142">[MongoDB](http://www.mongodb.org/) is a popular document database.</span></span>
- <span data-ttu-id="d290b-143">[列系列数据库](https://msdn.microsoft.com/library/dn313285.aspx#sec9)是键/值数据存储，使您能够在结构数据存储到的相关列称为列系列的集合。</span><span class="sxs-lookup"><span data-stu-id="d290b-143">[Column-family databases](https://msdn.microsoft.com/library/dn313285.aspx#sec9) are key/value data stores that enable you to structure data storage into collections of related columns called column families.</span></span> <span data-ttu-id="d290b-144">例如，人口普查数据库可能有一组人员的姓名的列 （首先，中间上, 一次），一个组以启用此人的地址和一个组有关用户的配置文件信息 (DOB，性别，等等)。</span><span class="sxs-lookup"><span data-stu-id="d290b-144">For example, a census database might have one group of columns for a person's name (first, middle, last), one group for the person's address, and one group for the person's profile information (DOB, gender, etc.).</span></span> <span data-ttu-id="d290b-145">数据库可以然后存储每个列系列单独分区中保留所有人与相同的密钥相关的数据时。</span><span class="sxs-lookup"><span data-stu-id="d290b-145">The database can then store each column family in a separate partition while keeping all of the data for one person related to the same key.</span></span> <span data-ttu-id="d290b-146">然后，你可以无需通读的所有名称和地址信息以及读取所有配置文件信息。</span><span class="sxs-lookup"><span data-stu-id="d290b-146">You can then read all profile information without having to read through all of the name and address information as well.</span></span> <span data-ttu-id="d290b-147">[Cassandra](http://cassandra.apache.org/)是受欢迎的列系列数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-147">[Cassandra](http://cassandra.apache.org/) is a popular column-family database.</span></span>
- <span data-ttu-id="d290b-148">[图形数据库](https://msdn.microsoft.com/library/dn313285.aspx#sec10)将信息存储为对象和关系的集合。</span><span class="sxs-lookup"><span data-stu-id="d290b-148">[Graph databases](https://msdn.microsoft.com/library/dn313285.aspx#sec10) store information as a collection of objects and relationships.</span></span> <span data-ttu-id="d290b-149">图形数据库的目的是使应用程序有效地执行的查询，它们之间遍历的网络中的对象和关系。</span><span class="sxs-lookup"><span data-stu-id="d290b-149">The purpose of a graph database is to enable an application to efficiently perform queries that traverse the network of objects and the relationships between them.</span></span> <span data-ttu-id="d290b-150">例如，这些对象可能是在人力资源数据库中，员工，你可能想以便于查询如"查找所有雇员的姓名直接或间接工作 Scott。"</span><span class="sxs-lookup"><span data-stu-id="d290b-150">For example, the objects might be employees in a human resources database, and you might want to facilitate queries such as "find all employees who directly or indirectly work for Scott."</span></span> <span data-ttu-id="d290b-151">[Neo4j](http://www.neo4j.org/)是一个常用的关系图的数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-151">[Neo4j](http://www.neo4j.org/) is a popular graph database.</span></span>

<span data-ttu-id="d290b-152">与关系数据库相比，NoSQL 选项提供更大的可伸缩性和用于存储和分析非结构化数据的成本效益。</span><span class="sxs-lookup"><span data-stu-id="d290b-152">Compared to relational databases, the NoSQL options offer far greater scalability and cost-effectiveness for storage and analysis of unstructured data.</span></span> <span data-ttu-id="d290b-153">代价是，它们不提供的丰富 queryability 和可靠的数据的关系数据库的完整性功能。</span><span class="sxs-lookup"><span data-stu-id="d290b-153">The tradeoff is that they don't provide the rich queryability and robust data integrity capabilities of relational databases.</span></span> <span data-ttu-id="d290b-154">NoSQL 将适用于涉及大量联接查询不需要的 IIS 日志数据。</span><span class="sxs-lookup"><span data-stu-id="d290b-154">NoSQL would work well for IIS log data, which involves high volume with no need for join queries.</span></span> <span data-ttu-id="d290b-155">NoSQL 不适合非常好银行事务，这需要绝对数据完整性的并且涉及在与其他帐户相关的数据的多个关系。</span><span class="sxs-lookup"><span data-stu-id="d290b-155">NoSQL would not work so well for banking transactions, which requires absolute data integrity and involves many relationships to other account-related data.</span></span>

<span data-ttu-id="d290b-156">此外还有一个较新类别的数据库平台调用[NewSQL](http://en.wikipedia.org/wiki/NewSQL) NoSQL 数据库的可伸缩性结合使用 queryability 和关系数据库的事务完整性。</span><span class="sxs-lookup"><span data-stu-id="d290b-156">There is also a newer category of database platform called [NewSQL](http://en.wikipedia.org/wiki/NewSQL) that combines the scalability of a NoSQL database with the queryability and transactional integrity of a relational database.</span></span> <span data-ttu-id="d290b-157">NewSQL 数据库专门用于分布式的存储和查询处理时，这通常很难实现"OldSQL"数据库中。</span><span class="sxs-lookup"><span data-stu-id="d290b-157">NewSQL databases are designed for distributed storage and query processing, which is often hard to implement in "OldSQL" databases.</span></span> <span data-ttu-id="d290b-158">[NuoDB](http://www.nuodb.com/)举例说明的 NewSQL 数据库，可以在 Azure 上使用。</span><span class="sxs-lookup"><span data-stu-id="d290b-158">[NuoDB](http://www.nuodb.com/) is an example of a NewSQL database that can be used on Azure.</span></span>

<a id="hadoop"></a>
## <a name="hadoop-and-mapreduce"></a><span data-ttu-id="d290b-159">Hadoop 和 MapReduce</span><span class="sxs-lookup"><span data-stu-id="d290b-159">Hadoop and MapReduce</span></span>

<span data-ttu-id="d290b-160">可以在 NoSQL 数据库中存储的数据的高卷可能很难及时有效地分析。</span><span class="sxs-lookup"><span data-stu-id="d290b-160">The high volumes of data that you can store in NoSQL databases may be difficult to analyze efficiently in a timely manner.</span></span> <span data-ttu-id="d290b-161">为此，你可以使用这样的框架[Hadoop](http://hadoop.apache.org/)实现[MapReduce](http://en.wikipedia.org/wiki/MapReduce)功能。</span><span class="sxs-lookup"><span data-stu-id="d290b-161">To do that you can use a framework like [Hadoop](http://hadoop.apache.org/) which implements [MapReduce](http://en.wikipedia.org/wiki/MapReduce) functionality.</span></span> <span data-ttu-id="d290b-162">实质上是什么 MapReduce 过程将如下所示：</span><span class="sxs-lookup"><span data-stu-id="d290b-162">Essentially what a MapReduce process does is the following:</span></span>

- <span data-ttu-id="d290b-163">需要通过选择外数据处理的数据的大小只存储的数据你实际上需要分析的限制。</span><span class="sxs-lookup"><span data-stu-id="d290b-163">Limit the size of the data that needs to be processed by selecting out of the data store only the data you actually need to analyze.</span></span> <span data-ttu-id="d290b-164">例如，你想要知道你的出生年份的用户的构成，因此从你的用户配置文件数据存储选择仅出生年。</span><span class="sxs-lookup"><span data-stu-id="d290b-164">For example, you want to know the makeup of your user base by birth year, so you select only birth years out of your user profile data store.</span></span>
- <span data-ttu-id="d290b-165">分解分成几个部分的数据并将它们发送给不同的计算机进行处理。</span><span class="sxs-lookup"><span data-stu-id="d290b-165">Break down the data into parts and send them to different computers for processing.</span></span> <span data-ttu-id="d290b-166">计算机 A 上计算的人士提供 1950年 1959年日期数，则计算机 B 不 1960年 1969，等等。此组的计算机称为*Hadoop 群集*。</span><span class="sxs-lookup"><span data-stu-id="d290b-166">Computer A calculates the number of people with 1950-1959 dates, computer B does 1960-1969, etc. This group of computers is called a *Hadoop cluster*.</span></span>
- <span data-ttu-id="d290b-167">将每个部分结果部分处理完成后到一起。</span><span class="sxs-lookup"><span data-stu-id="d290b-167">Put the results of each part back together after the processing on the parts is done.</span></span> <span data-ttu-id="d290b-168">你现在有一个相对较短的每个出生年份的多少人员列表和计算百分比此总体列表中的任务是易于管理。</span><span class="sxs-lookup"><span data-stu-id="d290b-168">You now have a relatively short list of how many people for each birth year and the task of calculating percentages in this overall list is manageable.</span></span>

<span data-ttu-id="d290b-169">在 Azure 上， [HDInsight](https://azure.microsoft.com/services/hdinsight/)使您能够处理和分析，并获取新的见解，从使用 Hadoop 的强大的大数据。</span><span class="sxs-lookup"><span data-stu-id="d290b-169">On Azure, [HDInsight](https://azure.microsoft.com/services/hdinsight/) enables you to process, analyze, and gain new insights from big data using the power of Hadoop.</span></span> <span data-ttu-id="d290b-170">例如，你可以使用它来分析 web 服务器日志：</span><span class="sxs-lookup"><span data-stu-id="d290b-170">For example, you could use it to analyze web server logs:</span></span>

- <span data-ttu-id="d290b-171">启用到你的存储帐户的 web 服务器日志记录。</span><span class="sxs-lookup"><span data-stu-id="d290b-171">Enable web server logging to your storage account.</span></span> <span data-ttu-id="d290b-172">这将设置 Azure 日志写入 Blob 服务为你的应用程序对每个 HTTP 请求。</span><span class="sxs-lookup"><span data-stu-id="d290b-172">This sets up Azure to write logs to the Blob Service for every HTTP request to your application.</span></span> <span data-ttu-id="d290b-173">Blob 服务基本上是云文件存储，以及它与 hdinsight 配合使用可以很好地集成。</span><span class="sxs-lookup"><span data-stu-id="d290b-173">The Blob Service is basically cloud file storage, and it integrates nicely with HDInsight.</span></span> 

    ![日志到 Blob 存储](data-storage-options/_static/image2.png)
- <span data-ttu-id="d290b-175">当应用程序变流量时，web 服务器 IIS 日志要写入到 Blob 存储中。</span><span class="sxs-lookup"><span data-stu-id="d290b-175">As the app gets traffic, web server IIS logs are written to Blob storage.</span></span> 

    ![Web 服务器日志](data-storage-options/_static/image3.png)
- <span data-ttu-id="d290b-177">在门户中，单击**新建** - **Data Services** - **HDInsight** - **快速创建**，并指定 HDInsight 群集名称、 群集大小 （HDInsight 群集数据节点数），用户名称和 HDInsight 群集的密码。</span><span class="sxs-lookup"><span data-stu-id="d290b-177">In the portal, click **New** - **Data Services** - **HDInsight** - **Quick Create**, and specify an HDInsight cluster name, cluster size (number of HDInsight cluster data nodes), and a user name and password for the HDInsight cluster.</span></span> 

    ![HDInsight](data-storage-options/_static/image4.png)

<span data-ttu-id="d290b-179">现在，你可以设置 MapReduce 作业，以分析日志，并获取类似于问题的答案：</span><span class="sxs-lookup"><span data-stu-id="d290b-179">You can now set up MapReduce jobs to analyze your logs and get answers to questions such as:</span></span>

- <span data-ttu-id="d290b-180">一天中什么时间我的应用程序获取的最高或最低的流量？</span><span class="sxs-lookup"><span data-stu-id="d290b-180">What times of day does my app get the most or least traffic?</span></span>
- <span data-ttu-id="d290b-181">哪些国家/地区是来自我流量？</span><span class="sxs-lookup"><span data-stu-id="d290b-181">What countries is my traffic coming from?</span></span>
- <span data-ttu-id="d290b-182">什么是我的流量来自的区域的平均邻居收入。</span><span class="sxs-lookup"><span data-stu-id="d290b-182">What is the average neighborhood income of the areas my traffic comes from.</span></span> <span data-ttu-id="d290b-183">（没有公共的数据集，可通过 IP 地址，让你以邻居收入，并且你可以与 web 服务器日志中的 IP 地址匹配的。）</span><span class="sxs-lookup"><span data-stu-id="d290b-183">(There's a public dataset that gives you neighborhood income by IP address, and you can match that against IP address in the web server logs.)</span></span>
- <span data-ttu-id="d290b-184">邻居收入如何关联到特定页或站点中的产品？</span><span class="sxs-lookup"><span data-stu-id="d290b-184">How does neighborhood income correlate to specific pages or products in the site?</span></span>

<span data-ttu-id="d290b-185">然后可以使用类似这样到目标广告基于客户将会对感兴趣的可能性越小或可能购买特定产品的问题的答案。</span><span class="sxs-lookup"><span data-stu-id="d290b-185">You could then use the answers to questions like these to target ads based on the likelihood a customer would be interested in or likely to buy a particular product.</span></span>

<span data-ttu-id="d290b-186">中所述[使一切自动化章](automate-everything.md)，你可以在门户中执行操作的大多数函数可以实现自动化，并包含设置和 HDInsight 分析作业执行。</span><span class="sxs-lookup"><span data-stu-id="d290b-186">As explained in the [Automate Everything chapter](automate-everything.md), most functions that you can do in the portal can be automated, and that includes setting up and executing HDInsight analysis jobs.</span></span> <span data-ttu-id="d290b-187">典型的 HDInsight 脚本可能包含以下步骤：</span><span class="sxs-lookup"><span data-stu-id="d290b-187">A typical HDInsight script might contain the following steps:</span></span>

- <span data-ttu-id="d290b-188">设置 HDInsight 群集，并将其链接到 Blob 存储输入你存储帐户。</span><span class="sxs-lookup"><span data-stu-id="d290b-188">Provision an HDInsight cluster and link it to your storage account for Blob storage input.</span></span>
- <span data-ttu-id="d290b-189">将 MapReduce 作业可执行文件 （.jar 或.exe 文件） 上载到 HDInsight 群集。</span><span class="sxs-lookup"><span data-stu-id="d290b-189">Upload the MapReduce job executables (.jar or .exe files) to the HDInsight cluster.</span></span>
- <span data-ttu-id="d290b-190">提交 MapReduce 存储到 Blob 存储的输出数据。</span><span class="sxs-lookup"><span data-stu-id="d290b-190">Submit a MapReduce that stores the output data to Blob storage.</span></span>
- <span data-ttu-id="d290b-191">等待作业完成。</span><span class="sxs-lookup"><span data-stu-id="d290b-191">Wait for the job to complete.</span></span>
- <span data-ttu-id="d290b-192">删除 HDInsight 群集。</span><span class="sxs-lookup"><span data-stu-id="d290b-192">Delete the HDInsight cluster.</span></span>
- <span data-ttu-id="d290b-193">访问 Blob 存储的输出。</span><span class="sxs-lookup"><span data-stu-id="d290b-193">Access the output from Blob storage.</span></span>

<span data-ttu-id="d290b-194">通过运行所有这些脚本，最小化设置 HDInsight 群集，这样就会减少所需的成本的时间量。</span><span class="sxs-lookup"><span data-stu-id="d290b-194">By running a script that does all this, you minimize the amount of time that the HDInsight cluster is provisioned, which minimizes your costs.</span></span>

<a id="paasiaas"></a>
## <a name="platform-as-a-service-paas-versus-infrastructure-as-a-service-iaas"></a><span data-ttu-id="d290b-195">平台即服务 (PaaS) 而不是基础结构即服务 (IaaS)</span><span class="sxs-lookup"><span data-stu-id="d290b-195">Platform as a Service (PaaS) versus Infrastructure as a Service (IaaS)</span></span>

<span data-ttu-id="d290b-196">前面列出的数据存储选项包括平台作为-服务 (PaaS) 和基础结构作为-服务 (IaaS) 解决方案。</span><span class="sxs-lookup"><span data-stu-id="d290b-196">The data storage options listed earlier include both Platform-as-a-Service (PaaS) and Infrastructure-as-a-Service (IaaS) solutions.</span></span> <span data-ttu-id="d290b-197">PaaS 意味着我们管理的硬件和软件基础结构，你只需使用服务。</span><span class="sxs-lookup"><span data-stu-id="d290b-197">PaaS means that we manage the hardware and software infrastructure and you just use the service.</span></span> <span data-ttu-id="d290b-198">SQL Database 是 Azure PaaS 功能。</span><span class="sxs-lookup"><span data-stu-id="d290b-198">SQL Database is a PaaS feature of Azure.</span></span> <span data-ttu-id="d290b-199">对于数据库，提出并在幕后 Azure 将设置和配置 Vm 并将在其上的数据库设置。</span><span class="sxs-lookup"><span data-stu-id="d290b-199">You ask for databases, and behind the scenes Azure sets up and configures the VMs and sets up the databases on them.</span></span> <span data-ttu-id="d290b-200">不能直接访问 Vm，且没有对其进行管理。IaaS 表示设置、 配置和管理在我们的数据中心基础结构中运行的 Vm，你将置于想在其上包括的任何内容。</span><span class="sxs-lookup"><span data-stu-id="d290b-200">You don't have direct access to the VMs and don't have to manage them.IaaS means that you set up, configure, and manage VMs that run in our data center infrastructure, and you put whatever you want on them.</span></span> <span data-ttu-id="d290b-201">我们提供预配置的 VM 映像的库的常见 VM 配置。</span><span class="sxs-lookup"><span data-stu-id="d290b-201">We provide a gallery of pre-configured VM images for common VM configurations.</span></span> <span data-ttu-id="d290b-202">例如，你可以针对 Windows Server 2008、 Windows Server 2012、 BizTalk Server、 Oracle WebLogic Server、 Oracle 数据库等安装预配置的 VM 映像。</span><span class="sxs-lookup"><span data-stu-id="d290b-202">For example, you can install pre-configured VM images for Windows Server 2008, Windows Server 2012, BizTalk Server, Oracle WebLogic Server, Oracle Database, etc.</span></span>

<span data-ttu-id="d290b-203">Azure 提供的 PaaS 数据解决方案包括：</span><span class="sxs-lookup"><span data-stu-id="d290b-203">PaaS data solutions that Azure offers include:</span></span>

- <span data-ttu-id="d290b-204">Azure SQL 数据库 （以前称为 SQL Azure）。</span><span class="sxs-lookup"><span data-stu-id="d290b-204">Azure SQL Database (formerly known as SQL Azure).</span></span> <span data-ttu-id="d290b-205">基于 SQL Server 上的云关系数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-205">A cloud relational database based on SQL Server.</span></span>
- <span data-ttu-id="d290b-206">Azure 表存储。</span><span class="sxs-lookup"><span data-stu-id="d290b-206">Azure Table storage.</span></span> <span data-ttu-id="d290b-207">键/值 NoSQL 数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-207">A key/value NoSQL database.</span></span>
- <span data-ttu-id="d290b-208">Azure Blob 存储。</span><span class="sxs-lookup"><span data-stu-id="d290b-208">Azure Blob storage.</span></span> <span data-ttu-id="d290b-209">文件存储在云中。</span><span class="sxs-lookup"><span data-stu-id="d290b-209">File storage in the cloud.</span></span>

<span data-ttu-id="d290b-210">对于 IaaS，可以运行任何操作可以将加载到一个 VM，例如：</span><span class="sxs-lookup"><span data-stu-id="d290b-210">For IaaS, you can run anything you can load onto a VM, for example:</span></span>

- <span data-ttu-id="d290b-211">如 SQL Server、 Oracle、 MySQL、 SQL Compact、 SQLite 或 Postgres 的关系数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-211">Relational databases such as SQL Server, Oracle, MySQL, SQL Compact, SQLite, or Postgres.</span></span>
- <span data-ttu-id="d290b-212">Memcached、 Redis、 Cassandra 和 Riak 之类的键/值数据存储区。</span><span class="sxs-lookup"><span data-stu-id="d290b-212">Key/value data stores such as Memcached, Redis, Cassandra, and Riak.</span></span>
- <span data-ttu-id="d290b-213">列数据存储，例如 HBase。</span><span class="sxs-lookup"><span data-stu-id="d290b-213">Column data stores such as HBase.</span></span>
- <span data-ttu-id="d290b-214">如 MongoDB、 RavenDB 和 CouchDB 的文档数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-214">Document databases such as MongoDB, RavenDB, and CouchDB.</span></span>
- <span data-ttu-id="d290b-215">如 Neo4j 图形数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-215">Graph databases such as Neo4j.</span></span>

![在 Azure 上的数据存储选项](data-storage-options/_static/image5.png)

<span data-ttu-id="d290b-217">IaaS 选项为你提供几乎无限的数据存储选项，而且其中的许多是尤其是易于使用的因为您可以创建使用预配置的映像的 Vm。</span><span class="sxs-lookup"><span data-stu-id="d290b-217">The IaaS option gives you almost unlimited data storage options, and many of them are especially easy to use because you can create VMs using preconfigured images.</span></span> <span data-ttu-id="d290b-218">例如，在管理门户，转到**虚拟机**，单击**映像**卡，然后单击**浏览 VM 仓库**。</span><span class="sxs-lookup"><span data-stu-id="d290b-218">For example, in the management portal go to **Virtual Machines**, click the **Images** tab, and click **Browse VM Depot**.</span></span>

![浏览 VM 仓库](data-storage-options/_static/image6.png)

<span data-ttu-id="d290b-220">然后，您看到一份[数百个预配置的 VM 映像](http://www.hanselman.com/blog/Over400VirtualMachineImagesOfOpenSourceSoftwareStacksInTheVMDepotAzureGallery.aspx)，并从已预装的数据库管理系统的映像，如 MongoDB、 Neo4J、 Redis、 Cassandra 或 CouchDB，可以创建 VM:</span><span class="sxs-lookup"><span data-stu-id="d290b-220">You then see a list of [hundreds of preconfigured VM images](http://www.hanselman.com/blog/Over400VirtualMachineImagesOfOpenSourceSoftwareStacksInTheVMDepotAzureGallery.aspx), and you can create a VM from an image that has a database management system preinstalled, such as MongoDB, Neo4J, Redis, Cassandra, or CouchDB:</span></span>

![在 VM Depot 的 MongoDB](data-storage-options/_static/image7.png)

<span data-ttu-id="d290b-222">Azure 使 IaaS 数据存储选项为易于使用，但 PaaS 产品具有使它们更经济高效且更适用于许多方案的很多优势：</span><span class="sxs-lookup"><span data-stu-id="d290b-222">Azure makes IaaS data storage options as easy to use as possible, but the PaaS offerings have many advantages that make them more cost-effective and practical for many scenarios:</span></span>

- <span data-ttu-id="d290b-223">无需创建 Vm，你只需使用门户或脚本来设置数据存储区。</span><span class="sxs-lookup"><span data-stu-id="d290b-223">You don't have to create VMs, you just use the portal or a script to set up a data store.</span></span> <span data-ttu-id="d290b-224">如果你想 200 terabyte 数据存储区，你可以只需单击一个按钮或运行命令，并且以秒为单位可以供你使用。</span><span class="sxs-lookup"><span data-stu-id="d290b-224">If you want a 200 terabyte data store, you can just click a button or run a command, and in seconds it's ready for you to use.</span></span>
- <span data-ttu-id="d290b-225">无需管理或修补程序服务; 使用的 VmMicrosoft 会为你自动。-无需担心设置缩放或高可用性; 的基础结构Microsoft 为你处理所有这些。</span><span class="sxs-lookup"><span data-stu-id="d290b-225">You don't have to manage or patch the VMs used by the service; Microsoft does that for you automatically.- You don't have to worry about setting up infrastructure for scaling or high availability; Microsoft handles all that for you.</span></span>
- <span data-ttu-id="d290b-226">无需购买许可证;许可费用都包括在服务费用。</span><span class="sxs-lookup"><span data-stu-id="d290b-226">You don't have to buy licenses; license fees are included in the service fees.</span></span>
- <span data-ttu-id="d290b-227">你只为你的使用付费。</span><span class="sxs-lookup"><span data-stu-id="d290b-227">You only pay for what you use.</span></span>

<span data-ttu-id="d290b-228">在 Azure 中的 PaaS 数据存储选项包括由第三方提供商的产品。</span><span class="sxs-lookup"><span data-stu-id="d290b-228">PaaS data storage options in Azure include offerings by third-party providers.</span></span> <span data-ttu-id="d290b-229">例如，你可以选择[MongoLab 外接程序](https://azure.microsoft.com/documentation/articles/store-mongolab-web-sites-dotnet-store-data-mongodb/)从要设置 MongoDB 数据库作为一项服务的 Azure 存储区。</span><span class="sxs-lookup"><span data-stu-id="d290b-229">For example, you can choose the [MongoLab Add-On](https://azure.microsoft.com/documentation/articles/store-mongolab-web-sites-dotnet-store-data-mongodb/) from the Azure Store to provision a MongoDB database as a service.</span></span>

## <a name="choosing-a-data-storage-option"></a><span data-ttu-id="d290b-230">选择一个数据存储选项</span><span class="sxs-lookup"><span data-stu-id="d290b-230">Choosing a data storage option</span></span>

<span data-ttu-id="d290b-231">没有一种方法最适合所有方案。</span><span class="sxs-lookup"><span data-stu-id="d290b-231">No one approach is right for all scenarios.</span></span> <span data-ttu-id="d290b-232">如果任何人都指出此技术是个问题的回答，首先要询问是"是什么问题？"，因为针对不同的事物进行了优化的不同解决方案。</span><span class="sxs-lookup"><span data-stu-id="d290b-232">If anyone says that this technology is the answer, the first thing to ask is "What is the question?", because different solutions are optimized for different things.</span></span> <span data-ttu-id="d290b-233">有很明确好处关系模型;这就是为什么它相继出现因此长时间。</span><span class="sxs-lookup"><span data-stu-id="d290b-233">There are definite advantages to the relational model; that's why it's been around for so long.</span></span> <span data-ttu-id="d290b-234">但也有到可以使用 NoSQL 解决方案进行寻址的 SQL 的向下边。</span><span class="sxs-lookup"><span data-stu-id="d290b-234">But there are also down-sides to SQL that can be addressed with a NoSQL solution.</span></span>

<span data-ttu-id="d290b-235">通常我们看到的内容工作最佳是一种组合方法，您在其中使用 SQL 和 NoSQL 单个解决方案。</span><span class="sxs-lookup"><span data-stu-id="d290b-235">Often what we see work best is a compositional approach, where you use SQL and NoSQL in a single solution.</span></span> <span data-ttu-id="d290b-236">甚至当人员说它们要接纳 NoSQL，是否你钻取到自己在做什么你通常查找他们正在使用多个不同的 NoSQL 框架： 他们正在使用[CouchDB](http://wiki.apache.org/couchdb/Introduction)，和[Redis](http://redis.io/)，和[Riak](http://basho.com/riak/)进行不同的工作。</span><span class="sxs-lookup"><span data-stu-id="d290b-236">Even when people say they're embracing NoSQL, if you drill into what they're doing you often find that they're using several different NoSQL frameworks: they're using [CouchDB](http://wiki.apache.org/couchdb/Introduction), and [Redis](http://redis.io/), and [Riak](http://basho.com/riak/) for different things.</span></span> <span data-ttu-id="d290b-237">甚至 Facebook，广泛使用 NoSQL，服务的不同部分使用不同的 NoSQL 框架。</span><span class="sxs-lookup"><span data-stu-id="d290b-237">Even Facebook, which uses NoSQL extensively, uses different NoSQL frameworks for different parts of the service.</span></span> <span data-ttu-id="d290b-238">可以灵活地混合和匹配数据的存储方法是因为很容易地使用多个数据解决方案并将它们集成在单个应用程序中的有关云，很好的事情之一。</span><span class="sxs-lookup"><span data-stu-id="d290b-238">The flexibility to mix and match data storage approaches is one of the things that's nice about the cloud, because it's easy to use multiple data solutions and integrate them in a single app.</span></span>

<span data-ttu-id="d290b-239">下面是一些问题，可考虑时选择一种方法：</span><span class="sxs-lookup"><span data-stu-id="d290b-239">Here are some questions to think about when you're choosing an approach:</span></span>

| <span data-ttu-id="d290b-240">数据语义</span><span class="sxs-lookup"><span data-stu-id="d290b-240">Data semantic</span></span> | <span data-ttu-id="d290b-241">-什么是核心数据存储和数据访问语义 （将您存储关系或非结构化数据）？</span><span class="sxs-lookup"><span data-stu-id="d290b-241">- What is the core data storage and data access semantic (are you storing relational or unstructured data)?</span></span> <span data-ttu-id="d290b-242">非结构化的数据，例如媒体文件最适合在 blob 存储;集合相关的数据，如产品、 清单、 供应商、 客户订单、 等，最适合在关系数据库中。</span><span class="sxs-lookup"><span data-stu-id="d290b-242">Unstructured data such as media files fits best in blob storage; a collection of related data such as products, inventories, suppliers, customer orders, etc., fits best in a relational database.</span></span> |
| --- | --- |
| <span data-ttu-id="d290b-243">查询支持</span><span class="sxs-lookup"><span data-stu-id="d290b-243">Query support</span></span> | <span data-ttu-id="d290b-244">-如何轻松是它来查询的数据？</span><span class="sxs-lookup"><span data-stu-id="d290b-244">- How easy is it to query the data?</span></span> <span data-ttu-id="d290b-245">-什么类型的问题可能会有效地要求？</span><span class="sxs-lookup"><span data-stu-id="d290b-245">- What types of questions can be efficiently asked?</span></span> <span data-ttu-id="d290b-246">键/值数据存储区是很好地获取给定键的值的单个行，但不是因此适合复杂的查询。</span><span class="sxs-lookup"><span data-stu-id="d290b-246">Key/value data stores are very good at getting a single row given a key value but not so good for complex queries.</span></span> <span data-ttu-id="d290b-247">用户配置文件数据存储中都能得到一个特定用户的数据，键/值数据存储可能工作良好;产品目录想要获得不同的分组基于各种产品属性关系数据库可能更好地工作。</span><span class="sxs-lookup"><span data-stu-id="d290b-247">For a user profile data store where you are always getting the data for one particular user, a key/value data store could work well; for a product catalog where you want to get different groupings based on various product attributes a relational database might work better.</span></span> <span data-ttu-id="d290b-248">NoSQL 数据库可以存储大量数据有效，但可以构建围绕如何应用查询的数据，数据库以及这会使即席查询很难执行。</span><span class="sxs-lookup"><span data-stu-id="d290b-248">NoSQL databases can store large volumes of data efficiently, but you have to structure the database around how the app queries the data, and this makes ad hoc queries harder to do.</span></span> <span data-ttu-id="d290b-249">使用关系数据库中，你可以构建几乎任何类型的查询。</span><span class="sxs-lookup"><span data-stu-id="d290b-249">With a relational database, you can build almost any kind of query.</span></span> |
| <span data-ttu-id="d290b-250">功能投影</span><span class="sxs-lookup"><span data-stu-id="d290b-250">Functional projection</span></span> | <span data-ttu-id="d290b-251">-可以问题，聚合，等等，在执行的服务器端？</span><span class="sxs-lookup"><span data-stu-id="d290b-251">- Can questions, aggregations, etc., be executed server-side?</span></span> <span data-ttu-id="d290b-252">如果我运行选择的计数 (\*) 从 SQL 中的表，它将非常高效地执行服务器上的所有工作，并返回数值我正在寻找。</span><span class="sxs-lookup"><span data-stu-id="d290b-252">If I run SELECT COUNT(\*) from a table in SQL, it will very efficiently do all the work on the server and return the number I'm looking for.</span></span> <span data-ttu-id="d290b-253">如果我想同一计算来自不支持聚合的 NoSQL 数据存储，这是一个效率低下的"不受限制的查询"，并可能会超时。即使成功执行查询我必须从服务器中的所有数据检索到客户端和客户端上的行进行计数。</span><span class="sxs-lookup"><span data-stu-id="d290b-253">If I want the same calculation from a NoSQL data store that doesn't support aggregation, this is an inefficient "unbounded query" and will probably time out. Even if the query succeeds I have to retrieve all of the data from the server to the client and count the rows on the client.</span></span> <span data-ttu-id="d290b-254">-可以使用何种语言或表达式的类型？</span><span class="sxs-lookup"><span data-stu-id="d290b-254">- What languages or types of expressions can be used?</span></span> <span data-ttu-id="d290b-255">与关系数据库中，我可以使用 SQL。</span><span class="sxs-lookup"><span data-stu-id="d290b-255">With a relational database I can use SQL.</span></span> <span data-ttu-id="d290b-256">对于某些如 Azure 表存储的 NoSQL 数据库，我将使用[OData](http://www.odata.org/)，而我可以做的就是对主键进行筛选和获取 （选择可用的字段的子集） 的投影。</span><span class="sxs-lookup"><span data-stu-id="d290b-256">With some NoSQL databases such as Azure Table storage, I'll be using [OData](http://www.odata.org/), and all I can do is filter on primary key and get projections (select a subset of the available fields).</span></span> |
| <span data-ttu-id="d290b-257">容易伸缩</span><span class="sxs-lookup"><span data-stu-id="d290b-257">Ease of scalability</span></span> | <span data-ttu-id="d290b-258">-如何通常和如何多将数据需要扩展？</span><span class="sxs-lookup"><span data-stu-id="d290b-258">- How often and how much will the data need to scale?</span></span> <span data-ttu-id="d290b-259">-平台以本机方式实现横向扩展？</span><span class="sxs-lookup"><span data-stu-id="d290b-259">- Does the platform natively implement scale-out?</span></span> <span data-ttu-id="d290b-260">-如何轻松是它以添加/删除容量 （大小和吞吐量）？</span><span class="sxs-lookup"><span data-stu-id="d290b-260">- How easy is it to add/remove capacity (size and throughput)?</span></span> <span data-ttu-id="d290b-261">关系数据库和表不自动分区以使它们的可伸缩性，这样便难以扩展超过一定的限制。</span><span class="sxs-lookup"><span data-stu-id="d290b-261">Relational databases and tables aren't automatically partitioned to make them scalable, so they are difficult to scale beyond certain limitations.</span></span> <span data-ttu-id="d290b-262">Azure 表存储空间等 NoSQL 数据存储区本质上是分区的所有内容，并且没有添加分区几乎没有限制。</span><span class="sxs-lookup"><span data-stu-id="d290b-262">NoSQL data stores like Azure Table storage inherently partition everything, and there is almost no limit to adding partitions.</span></span> <span data-ttu-id="d290b-263">你随时可以通过以下方式扩展表存储最多 200 兆兆字节，但 Azure SQL 数据库的最大数据库大小 500 千兆字节。</span><span class="sxs-lookup"><span data-stu-id="d290b-263">You can readily scale Table Storage up to 200 terabytes, but the maximum database size for Azure SQL Database is 500 gigabytes.</span></span> <span data-ttu-id="d290b-264">你可以通过分区为多个数据库，来缩放关系数据，但设置应用程序以支持该模型涉及大量编程工作。</span><span class="sxs-lookup"><span data-stu-id="d290b-264">You can scale relational data by partitioning it into multiple databases, but setting up an application to support that model involves a lot of programming work.</span></span> |
| <span data-ttu-id="d290b-265">检测和可管理性</span><span class="sxs-lookup"><span data-stu-id="d290b-265">Instrumentation and Manageability</span></span> | <span data-ttu-id="d290b-266">-如何轻松是能够检测、 监视和管理平台？</span><span class="sxs-lookup"><span data-stu-id="d290b-266">- How easy is the platform to instrument, monitor, and manage?</span></span> <span data-ttu-id="d290b-267">你将需要及时了解运行状况和性能数据存储区，因此你需要提前知道一个平台，可免费，哪些度量值和你需要开发自己。</span><span class="sxs-lookup"><span data-stu-id="d290b-267">You will need to keep informed about the health and performance of your data store, so you need to know up front what metrics a platform gives you for free, and what you have to develop yourself.</span></span> |
| <span data-ttu-id="d290b-268">操作</span><span class="sxs-lookup"><span data-stu-id="d290b-268">Operations</span></span> | <span data-ttu-id="d290b-269">-如何轻松是平台来部署和在 Azure 上运行？</span><span class="sxs-lookup"><span data-stu-id="d290b-269">- How easy is the platform to deploy and run on Azure?</span></span> <span data-ttu-id="d290b-270">PaaS？</span><span class="sxs-lookup"><span data-stu-id="d290b-270">PaaS?</span></span> <span data-ttu-id="d290b-271">IaaS？</span><span class="sxs-lookup"><span data-stu-id="d290b-271">IaaS?</span></span> <span data-ttu-id="d290b-272">Linux？</span><span class="sxs-lookup"><span data-stu-id="d290b-272">Linux?</span></span> <span data-ttu-id="d290b-273">表存储和 SQL 数据库可轻松地在 Azure 上设置。</span><span class="sxs-lookup"><span data-stu-id="d290b-273">Table Storage and SQL Database are easy to set up on Azure.</span></span> <span data-ttu-id="d290b-274">不是内置的 Azure PaaS 解决方案的平台需要更多的工作。</span><span class="sxs-lookup"><span data-stu-id="d290b-274">Platforms that aren't built-in Azure PaaS solutions require more effort.</span></span> |
| <span data-ttu-id="d290b-275">API 支持</span><span class="sxs-lookup"><span data-stu-id="d290b-275">API Support</span></span> | <span data-ttu-id="d290b-276">-是一个可以轻松地使用平台的 API 可用？</span><span class="sxs-lookup"><span data-stu-id="d290b-276">- Is an API available that makes it easy to work with the platform?</span></span> <span data-ttu-id="d290b-277">对于 Azure 表服务没有使用.NET API 支持.NET 4.5 的异步编程模型的 SDK。</span><span class="sxs-lookup"><span data-stu-id="d290b-277">For the Azure Table Service there's an SDK with a .NET API that supports the .NET 4.5 asynchronous programming model.</span></span> <span data-ttu-id="d290b-278">如果你编写的.NET 应用程序，它将是可以更轻松地编写和 Azure 表服务相比到另一个键/值列数据存储平台具有任何 API 或一个不太全面测试代码。</span><span class="sxs-lookup"><span data-stu-id="d290b-278">If you're writing a .NET app, it'll be much easier to write and test code for the Azure Table Service compared to another key/value column data store platform that has no API or a less comprehensive one.</span></span> |
| <span data-ttu-id="d290b-279">事务的完整性和数据一致性</span><span class="sxs-lookup"><span data-stu-id="d290b-279">Transactional integrity and data consistency</span></span> | <span data-ttu-id="d290b-280">-是关键平台才能保证数据一致性支持事务？</span><span class="sxs-lookup"><span data-stu-id="d290b-280">- Is it critical that the platform support transactions in order to guarantee data consistency?</span></span> <span data-ttu-id="d290b-281">用于跟踪发送，性能和低的数据存储成本可能比自动支持事务或数据平台中的引用完整性更重要的批量电子邮件进行 Azure 表服务一个不错的选择。</span><span class="sxs-lookup"><span data-stu-id="d290b-281">For keeping track of bulk emails sent, performance and low data storage cost might be more important than automatic support for transactions or referential integrity in the data platform, making the Azure Table Service a good choice.</span></span> <span data-ttu-id="d290b-282">用于跟踪银行帐户余额或采购订单提供强事务保证将更好的选择的关系数据库平台。</span><span class="sxs-lookup"><span data-stu-id="d290b-282">For tracking bank account balances or purchase orders a relational database platform that provides strong transactional guarantees would be a better choice.</span></span> |
| <span data-ttu-id="d290b-283">业务连续性</span><span class="sxs-lookup"><span data-stu-id="d290b-283">Business continuity</span></span> | <span data-ttu-id="d290b-284">-如何轻松是否备份、 还原和灾难恢复？</span><span class="sxs-lookup"><span data-stu-id="d290b-284">- How easy are backup, restore, and disaster recovery?</span></span> <span data-ttu-id="d290b-285">将获取生产数据损坏更快或更高版本，你将需要撤消的功能。</span><span class="sxs-lookup"><span data-stu-id="d290b-285">Sooner or later production data will get corrupted and you'll need an undo function.</span></span> <span data-ttu-id="d290b-286">关系数据库通常具有更多的细化还原功能，如能够及时还原到某个点。</span><span class="sxs-lookup"><span data-stu-id="d290b-286">Relational databases often have more fine-grained restore capabilities, such as the ability to restore to a point in time.</span></span> <span data-ttu-id="d290b-287">了解哪些还原功能可用于你正在考虑每个平台中是要考虑的重要因素。</span><span class="sxs-lookup"><span data-stu-id="d290b-287">Understanding what restore features are available in each platform you're considering is an important factor to consider.</span></span> |
| <span data-ttu-id="d290b-288">成本</span><span class="sxs-lookup"><span data-stu-id="d290b-288">Cost</span></span> | <span data-ttu-id="d290b-289">-如果多个平台可支持您数据的工作负荷，它们的权限相比如何成本？</span><span class="sxs-lookup"><span data-stu-id="d290b-289">- If more than one platform can support your data workload, how do they compare in cost?</span></span> <span data-ttu-id="d290b-290">例如，如果你使用 ASP.NET 标识，你可以在 Azure 表服务或 Azure SQL 数据库中存储用户配置文件数据。</span><span class="sxs-lookup"><span data-stu-id="d290b-290">For example, if you use ASP.NET Identity, you can store user profile data in Azure Table Service or Azure SQL Database.</span></span> <span data-ttu-id="d290b-291">如果你不需要丰富的查询的 SQL 数据库功能，你可以选择 Azure 表部分因为它的成本很多更低的给定的存储。</span><span class="sxs-lookup"><span data-stu-id="d290b-291">If you don't need the rich querying facilities of SQL Database, you might choose Azure Tables in part because it costs much less for a given amount of storage.</span></span> |

<span data-ttu-id="d290b-292">我们通常的建议是知道中每个类别的问题的答案，然后选择你的数据存储解决方案。</span><span class="sxs-lookup"><span data-stu-id="d290b-292">What we generally recommend is know the answer to the questions in each of these categories before you choose your data storage solutions.</span></span>

<span data-ttu-id="d290b-293">此外，你的工作负荷可能存在某些平台可以比其他更好地支持的特定要求。</span><span class="sxs-lookup"><span data-stu-id="d290b-293">In addition, your workload might have specific requirements that some platforms can support better than others.</span></span> <span data-ttu-id="d290b-294">例如：</span><span class="sxs-lookup"><span data-stu-id="d290b-294">For example:</span></span>

- <span data-ttu-id="d290b-295">不应用程序需要审核功能？</span><span class="sxs-lookup"><span data-stu-id="d290b-295">Does your application require audit capabilities?</span></span>
- <span data-ttu-id="d290b-296">你的数据使用寿命要求是什么-你需要存档或清除的自动的功能吗？</span><span class="sxs-lookup"><span data-stu-id="d290b-296">What are your data longevity requirements -- do you require automated archival or purging capabilities?</span></span>
- <span data-ttu-id="d290b-297">你是否需要专用的安全需求？</span><span class="sxs-lookup"><span data-stu-id="d290b-297">Do you have specialized security needs?</span></span> <span data-ttu-id="d290b-298">例如，数据包括 PII （个人身份信息），但是你必须能够确保 PII 会从查询结果中排除。</span><span class="sxs-lookup"><span data-stu-id="d290b-298">For example, the data includes PII (personally identifiable information) but you have to be able to make sure that PII is excluded from query results.</span></span>
- <span data-ttu-id="d290b-299">如果你有一些数据，无法存储在云中出于法规或技术原因，你可能需要云数据存储平台，它方便了与你在本地存储集成。</span><span class="sxs-lookup"><span data-stu-id="d290b-299">If you have some data that can't be stored in the cloud for regulatory or technological reasons, you might need a cloud data storage platform that facilitates integrating with your on-premises storage.</span></span>

## <a name="demo--using-sql-database-in-azure"></a><span data-ttu-id="d290b-300">演示 – 在 Azure 中使用 SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="d290b-300">Demo – using SQL Database in Azure</span></span>

<span data-ttu-id="d290b-301">修复该应用程序使用关系数据库来存储任务。</span><span class="sxs-lookup"><span data-stu-id="d290b-301">The Fix It app uses a relational database to store tasks.</span></span> <span data-ttu-id="d290b-302">环境创建 Windows PowerShell 脚本中所示[使一切自动化章](automate-everything.md)创建两个 SQL 数据库实例。</span><span class="sxs-lookup"><span data-stu-id="d290b-302">The environment creation Windows PowerShell script shown in the [Automate Everything chapter](automate-everything.md) creates two SQL Database instances.</span></span> <span data-ttu-id="d290b-303">您可以看到这些在门户中通过单击**SQL 数据库**选项卡。</span><span class="sxs-lookup"><span data-stu-id="d290b-303">You can see these in the portal by clicking the **SQL Databases** tab.</span></span>

![在门户中的 SQL 数据库](data-storage-options/_static/image8.png)

<span data-ttu-id="d290b-305">也很容易通过使用门户来创建数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-305">It's also easy to create databases by using the portal.</span></span>

<span data-ttu-id="d290b-306">单击**新建-数据服务** -- **SQL 数据库** -- **快速创建**，输入数据库名称，选择你已在你的帐户中的服务器或者，创建一个新的活动，然后单击**创建 SQL 数据库**。</span><span class="sxs-lookup"><span data-stu-id="d290b-306">Click **New -- Data Services** -- **SQL Database** -- **Quick Create**, enter a database name, choose a server you already have in your account or create a new one, and click **Create SQL Database**.</span></span>

![新建 SQL 数据库](data-storage-options/_static/image9.png)

<span data-ttu-id="d290b-308">请等待几秒钟，并随时供你使用 Azure 中有一个数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-308">Wait several seconds, and you have a database in Azure ready for you to use.</span></span>

![创建的新 SQL 数据库](data-storage-options/_static/image10.png)

<span data-ttu-id="d290b-310">因此，Azure 未几个秒什么可能需要你一天或每周或更长时间才能在本地环境中完成。</span><span class="sxs-lookup"><span data-stu-id="d290b-310">So Azure does in a few seconds what it may take you a day or a week or longer to accomplish in the on-premises environment.</span></span> <span data-ttu-id="d290b-311">因为你可以轻松地创建数据库自动在脚本中或通过使用管理 API，你可以动态向外扩展通过将数据分散到多个 < o:p > 数据库，来处理程序，但前提是你的应用程序具有已设计用来实现的和。 < /o: p ></span><span class="sxs-lookup"><span data-stu-id="d290b-311">And since you can just as easily create databases automatically in a script or by using a management API, you can dynamically scale out by spreading your data across multiple <o:p>databases, so long as your application has been programmed for that.</o:p></span></span>

<span data-ttu-id="d290b-312">这是我们的平台即服务模型的一个示例。</span><span class="sxs-lookup"><span data-stu-id="d290b-312">This is an example of our Platform-as-a-Service model.</span></span> <span data-ttu-id="d290b-313">无需管理的服务器，我们执行此操作。</span><span class="sxs-lookup"><span data-stu-id="d290b-313">You don't have to manage the servers, we do it.</span></span> <span data-ttu-id="d290b-314">无需担心备份，我们执行此操作。</span><span class="sxs-lookup"><span data-stu-id="d290b-314">You don't have to worry about backups, we do it.</span></span> <span data-ttu-id="d290b-315">在高可用性 – 运行自动在三个服务器之间复制数据库中的数据。</span><span class="sxs-lookup"><span data-stu-id="d290b-315">It's running in high availability – the data in the database is replicated across three servers automatically.</span></span> <span data-ttu-id="d290b-316">如果一台计算机出现故障，我们自动故障转移，并会丢失任何数据。</span><span class="sxs-lookup"><span data-stu-id="d290b-316">If a machine dies, we automatically fail over and you lose no data.</span></span> <span data-ttu-id="d290b-317">服务器进行定期修补，不需要去担心这些事情。</span><span class="sxs-lookup"><span data-stu-id="d290b-317">The server is patched regularly, you don't need to worry about that.</span></span>

<span data-ttu-id="d290b-318">单击一个按钮并获取确切的连接字符串需要可以立即开始使用新的数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-318">Click a button and you get the exact connection string you need and can immediately start using the new database.</span></span>

![连接字符串](data-storage-options/_static/image11.png)

<span data-ttu-id="d290b-320">仪表板显示你的连接历史记录和使用的存储量。</span><span class="sxs-lookup"><span data-stu-id="d290b-320">The Dashboard shows you connection history and amount of storage used.</span></span>

![SQL Database 仪表板](data-storage-options/_static/image12.png)

<span data-ttu-id="d290b-322">你可以管理门户中的数据库或通过使用 SQL Server 工具你已熟悉，包括 SQL Server Management Studio (SSMS) 和 SQL Server 对象资源管理器 (SSOX) 和服务器资源管理器的 Visual Studio 工具。</span><span class="sxs-lookup"><span data-stu-id="d290b-322">You can manage databases in the portal or by using SQL Server tools you're already familiar with, including SQL Server Management Studio (SSMS) and the Visual Studio tools SQL Server Object Explorer (SSOX) and Server Explorer.</span></span>

![SSOX](data-storage-options/_static/image13.png)

<span data-ttu-id="d290b-324">另一个好处是定价模型。</span><span class="sxs-lookup"><span data-stu-id="d290b-324">Another nice thing is the pricing model.</span></span> <span data-ttu-id="d290b-325">你可以使用免费的 20 MB 数据库，启动开发和生产数据库开始大约为每月 5 美元。</span><span class="sxs-lookup"><span data-stu-id="d290b-325">You can start development with a free 20 MB database, and a production database starts at about $5 per month.</span></span> <span data-ttu-id="d290b-326">您支付仅你实际上存储在数据库中，不的最大容量的数据量。</span><span class="sxs-lookup"><span data-stu-id="d290b-326">You pay only for the amount of data you actually store in the database, not the maximum capacity.</span></span> <span data-ttu-id="d290b-327">你无需购买相应许可证。</span><span class="sxs-lookup"><span data-stu-id="d290b-327">You don't have to buy a license.</span></span>

<span data-ttu-id="d290b-328">SQL Database 是易于扩展。</span><span class="sxs-lookup"><span data-stu-id="d290b-328">SQL Database is easy to scale.</span></span> <span data-ttu-id="d290b-329">为 Fix It 应用，我们在我们的自动化脚本中创建的数据库的上限为 1 千兆。</span><span class="sxs-lookup"><span data-stu-id="d290b-329">For the Fix It app, the database we create in our automation script is capped at 1 gig.</span></span> <span data-ttu-id="d290b-330">如果你想要将其增加到 150 千兆，你可以只需转到门户和更改该设置，或执行 REST API 命令，并且以秒为单位你 150 千兆数据库可部署到的数据。</span><span class="sxs-lookup"><span data-stu-id="d290b-330">If you want to scale it up to 150 gig, you can just go into the portal and change that setting, or execute a REST API command, and in seconds you have a 150 gig database that you can deploy data into.</span></span>

![SQL 数据库版本和大小](data-storage-options/_static/image14.png)

<span data-ttu-id="d290b-332">这就是云以快速轻松地建立起基础结构和开始立即使用它。</span><span class="sxs-lookup"><span data-stu-id="d290b-332">That's the power of the cloud to stand up infrastructure quickly and easily and start using it immediately.</span></span>

<span data-ttu-id="d290b-333">修复它应用使用两个 SQL 数据库，一个用于成员资格 （身份验证和授权），一个用于数据，并且这是你所要做，以对它进行设置和扩展它。</span><span class="sxs-lookup"><span data-stu-id="d290b-333">The Fix It app uses two SQL databases, one for membership (authentication and authorization) and one for data, and this is all you have to do to provision it and scale it.</span></span> <span data-ttu-id="d290b-334">你此前看到如何设置数据库通过 Windows PowerShell 脚本，现在你已了解如何在门户中是多么容易。</span><span class="sxs-lookup"><span data-stu-id="d290b-334">You saw earlier how to provision the databases through Windows PowerShell scripts, and now you've also seen how easy it is to do in the portal.</span></span>

## <a name="entity-framework-versus-direct-database-access-using-adonet"></a><span data-ttu-id="d290b-335">与直接数据库访问使用 ADO.NET 实体框架</span><span class="sxs-lookup"><span data-stu-id="d290b-335">Entity Framework versus direct database access using ADO.NET</span></span>

<span data-ttu-id="d290b-336">修复它应用通过使用实体框架来访问这些数据库，但 Microsoft 的.NET 应用程序的建议 ORM （对象关系映射器）。</span><span class="sxs-lookup"><span data-stu-id="d290b-336">The Fix It app accesses these databases by using the Entity Framework, Microsoft's recommended ORM (object-relational mapper) for .NET applications.</span></span> <span data-ttu-id="d290b-337">ORM 是一个很好的工具，便于开发人员工作效率，但工作效率的代价是在某些情况下的性能下降。</span><span class="sxs-lookup"><span data-stu-id="d290b-337">An ORM is a great tool that facilitates developer productivity, but productivity comes at the expense of degraded performance in some scenarios.</span></span> <span data-ttu-id="d290b-338">在实际云应用程序中你不会进行一个选择是使用 EF 还是直接使用 ADO.NET--你将同时使用。</span><span class="sxs-lookup"><span data-stu-id="d290b-338">In a real-world cloud app you won't be making a choice between using EF or using ADO.NET directly -- you'll use both.</span></span> <span data-ttu-id="d290b-339">大多数情况下当你在编写适用于数据库中，代码获取最高的性能并不重要，并且你可以充分利用简化的编码和测试你获取与实体框架。</span><span class="sxs-lookup"><span data-stu-id="d290b-339">Most of the time when you're writing code that works with the database, getting maximum performance is not critical and you can take advantage of the simplified coding and testing that you get with the Entity Framework.</span></span> <span data-ttu-id="d290b-340">在 EF 开销导致不可接受的性能的情况下，可以写入和执行您自己使用 ADO.NET，理想情况下通过调用存储的过程的查询。</span><span class="sxs-lookup"><span data-stu-id="d290b-340">In situations where the EF overhead would cause unacceptable performance, you can write and execute your own queries using ADO.NET, ideally by calling stored procedures.</span></span>

<span data-ttu-id="d290b-341">你想要最小化"频率"尽可能多地使用以访问数据库时的任何方法。</span><span class="sxs-lookup"><span data-stu-id="d290b-341">Whatever method you use to access the database, you want to minimize "chattiness" as much as possible.</span></span> <span data-ttu-id="d290b-342">换而言之，如果你可以设置而不是几十或数百个较小的一个更大的查询结果中获取所需的所有数据，这是通常更可取的方法。</span><span class="sxs-lookup"><span data-stu-id="d290b-342">In other words, if you can get all the data you need in one larger query result set rather than dozens or hundreds of smaller ones, that's usually preferable.</span></span> <span data-ttu-id="d290b-343">例如，如果你需要列表学员和注册中的课程，则通常最好获取所有一个联接查询而不是在一个查询中获取学生和执行单独查询每个学生的课程中的数据。</span><span class="sxs-lookup"><span data-stu-id="d290b-343">For example, if you need to list students and the courses they're enrolled in, it's usually better to get all of the data in one join query rather than getting the students in one query and executing separate queries for each student's courses.</span></span>

## <a name="sql-databases-and-the-entity-framework-in-the-fix-it-app"></a><span data-ttu-id="d290b-344">SQL 数据库和实体框架中修复它应用</span><span class="sxs-lookup"><span data-stu-id="d290b-344">SQL databases and the Entity Framework in the Fix It app</span></span>

<span data-ttu-id="d290b-345">在修复它应用`FixItContext`类，该类派生自实体框架`DbContext`类，请标识的数据库并指定数据库中的表。</span><span class="sxs-lookup"><span data-stu-id="d290b-345">In the Fix It app the `FixItContext` class, which derives from the Entity Framework `DbContext` class, identifies the database and specifies the tables in the database.</span></span> <span data-ttu-id="d290b-346">上下文指定实体集 （表） 的任务，并且该代码将传入到上下文的连接字符串名称。</span><span class="sxs-lookup"><span data-stu-id="d290b-346">The context specifies an entity set (table) for tasks, and the code passes in to the context the connection string name.</span></span> <span data-ttu-id="d290b-347">该名称是指在 Web.config 文件中定义的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="d290b-347">That name refers to a connection string that is defined in the Web.config file.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample1.cs?highlight=4,8)]

<span data-ttu-id="d290b-348">中的连接字符串*Web.config*文件被命名为 appdb （此处指向本地开发数据库）：</span><span class="sxs-lookup"><span data-stu-id="d290b-348">The connection string in the *Web.config* file is named appdb (here pointing to the local development database):</span></span>

[!code-xml[Main](data-storage-options/samples/sample2.xml?highlight=3)]

<span data-ttu-id="d290b-349">实体框架创建*FixItTasks*表基于中包含的属性`FixItTask`实体类。</span><span class="sxs-lookup"><span data-stu-id="d290b-349">The Entity Framework creates a *FixItTasks* table based on the properties included in the `FixItTask` entity class.</span></span> <span data-ttu-id="d290b-350">这是一个简单的 POCO （普通旧 CLR 对象） 类，这意味着它不继承自或对实体框架的任何依赖关系。</span><span class="sxs-lookup"><span data-stu-id="d290b-350">This is a simple POCO (Plain Old CLR Object) class, which means it doesn't inherit from or have any dependencies on the Entity Framework.</span></span> <span data-ttu-id="d290b-351">但是，实体框架知道如何创建基于它的表并执行与其 CRUD （创建-读取-更新-删除） 操作。</span><span class="sxs-lookup"><span data-stu-id="d290b-351">But Entity Framework knows how to create a table based on it and execute CRUD (create-read-update-delete) operations with it.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample3.cs)]

![FixItTasks 表](data-storage-options/_static/image15.png)

<span data-ttu-id="d290b-353">修复它应用程序包括一个存储库接口，它使用的 CRUD 操作如何使用数据存储区。</span><span class="sxs-lookup"><span data-stu-id="d290b-353">The Fix It app includes a repository interface that it uses for CRUD operations working with the data store.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample4.cs)]

<span data-ttu-id="d290b-354">请注意，存储库方法都是所有异步，因此所有数据访问，可以都进行完全异步的方式。</span><span class="sxs-lookup"><span data-stu-id="d290b-354">Notice that the repository methods are all async, so all data access can be done in a completely asynchronous way.</span></span>

<span data-ttu-id="d290b-355">存储库实现调用实体框架异步方法以处理的数据，包括 LINQ 查询以及与插入、 更新和删除操作。</span><span class="sxs-lookup"><span data-stu-id="d290b-355">The repository implementation calls Entity Framework async methods to work with the data, including LINQ queries as well as for insert, update, and delete operations.</span></span> <span data-ttu-id="d290b-356">下面是代码的查找修复它任务示例。</span><span class="sxs-lookup"><span data-stu-id="d290b-356">Here's an example of the code for looking up a Fix It task.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample5.cs)]

<span data-ttu-id="d290b-357">你会注意到还有一些计时和错误日志记录代码，我们将更高版本中查看该[监视和遥测章节](monitoring-and-telemetry.md)。</span><span class="sxs-lookup"><span data-stu-id="d290b-357">You'll notice there's also some timing and error logging code here, we'll look at that later in the [Monitoring and Telemetry chapter](monitoring-and-telemetry.md).</span></span>

<a id="sqliaas"></a>
## <a name="choosing-sql-database-paas-versus-sql-server-in-a-vm-iaas-in-azure"></a><span data-ttu-id="d290b-358">选择与 Azure 中的 VM (IaaS) 中的 SQL Server 的 SQL 数据库 (PaaS)</span><span class="sxs-lookup"><span data-stu-id="d290b-358">Choosing SQL Database (PaaS) versus SQL Server in a VM (IaaS) in Azure</span></span>

<span data-ttu-id="d290b-359">有关 SQL Server 和 Azure SQL 数据库很棒是这两个的核心编程模型，并完全相同。</span><span class="sxs-lookup"><span data-stu-id="d290b-359">A nice thing about SQL Server and Azure SQL Database is that the core programming model for both of them is identical.</span></span> <span data-ttu-id="d290b-360">您可以在这两个环境中使用的相同的技能的大多数。</span><span class="sxs-lookup"><span data-stu-id="d290b-360">You can use most of the same skills in both environments.</span></span> <span data-ttu-id="d290b-361">你甚至可以将开发中的 SQL Server 数据库和 SQL 数据库实例在云中，即修复它应用的设置方式。</span><span class="sxs-lookup"><span data-stu-id="d290b-361">You can even use a SQL Server database in development and a SQL Database instance in the cloud, which is how the Fix It app is set up.</span></span>

<span data-ttu-id="d290b-362">作为替代方法，你可以运行相同的 SQL Server 在云中通过安装在 IaaS Vm 上运行在本地。</span><span class="sxs-lookup"><span data-stu-id="d290b-362">As an alternative, you can run the same SQL Server in the cloud that you run on-premises by installing it on IaaS VMs.</span></span> <span data-ttu-id="d290b-363">对于某些旧的应用程序，在 VM 中运行 SQL Server 可能是更好的解决方案。</span><span class="sxs-lookup"><span data-stu-id="d290b-363">For some legacy applications, running SQL Server in a VM might be a better solution.</span></span> <span data-ttu-id="d290b-364">在专用 VM 上运行的 SQL Server 数据库，因为它具有比共享服务器运行的 SQL 数据库数据库的更多可用资源。</span><span class="sxs-lookup"><span data-stu-id="d290b-364">Because a SQL Server database runs on a dedicated VM, it has more resources available to it than a SQL Database database that runs on a shared server.</span></span> <span data-ttu-id="d290b-365">这意味着 SQL Server 数据库可以更大，仍很好地运行。</span><span class="sxs-lookup"><span data-stu-id="d290b-365">That means a SQL Server database can be larger and still perform well.</span></span> <span data-ttu-id="d290b-366">一般情况下，越小的数据库大小和表大小，更好地用例适用于 SQL 数据库 (PaaS)。</span><span class="sxs-lookup"><span data-stu-id="d290b-366">In general, the smaller the database size and table size, the better the use case works for SQL Database (PaaS).</span></span>

<span data-ttu-id="d290b-367">以下是有关如何选择两个模型之间的一些准则。</span><span class="sxs-lookup"><span data-stu-id="d290b-367">Here are some guidelines on how to choose between the two models.</span></span>

| <span data-ttu-id="d290b-368">Azure SQL 数据库 (PaaS)</span><span class="sxs-lookup"><span data-stu-id="d290b-368">Azure SQL Database (PaaS)</span></span> | <span data-ttu-id="d290b-369">虚拟机 (IaaS) 中的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="d290b-369">SQL Server in a Virtual Machine (IaaS)</span></span> |
| --- | --- |
| <span data-ttu-id="d290b-370">**专业人员**-无需创建或管理 Vm、 更新或修补程序 OS 或 SQL;Azure 为你执行该操作。</span><span class="sxs-lookup"><span data-stu-id="d290b-370">**Pros** - You don't have to create or manage VMs, update or patch OS or SQL; Azure does that for you.</span></span> <span data-ttu-id="d290b-371">-内置的高可用性，与数据库级别 SLA。</span><span class="sxs-lookup"><span data-stu-id="d290b-371">- Built-in High Availability, with a database-level SLA.</span></span> <span data-ttu-id="d290b-372">-低总拥有成本 (TCO)，因为你只需支付使用 （不需要许可证）。</span><span class="sxs-lookup"><span data-stu-id="d290b-372">- Low total cost of ownership (TCO) because you pay only for what you use (no license required).</span></span> <span data-ttu-id="d290b-373">-适用于处理大量的小型数据库 (&lt;= 500 GB)。</span><span class="sxs-lookup"><span data-stu-id="d290b-373">- Good for handling large numbers of smaller databases (&lt;=500 GB each).</span></span> <span data-ttu-id="d290b-374">-轻松地动态创建新的数据库启用横向扩展。</span><span class="sxs-lookup"><span data-stu-id="d290b-374">- Easy to dynamically create new databases to enable scale-out.</span></span> | <span data-ttu-id="d290b-375">***专业人员***-与本地 SQL Server 的功能兼容。</span><span class="sxs-lookup"><span data-stu-id="d290b-375">***Pros*** - Feature-compatible with on-premises SQL Server.</span></span> <span data-ttu-id="d290b-376">-可以实现 SQL Server[通过 AlwaysOn 高可用性](https://www.microsoft.com/sqlserver/solutions-technologies/mission-critical-operations/high-availability.aspx)2 + Vm，并确保 SLA 来 VM 级别中。</span><span class="sxs-lookup"><span data-stu-id="d290b-376">- Can implement SQL Server [High Availability via AlwaysOn](https://www.microsoft.com/sqlserver/solutions-technologies/mission-critical-operations/high-availability.aspx) in 2+ VMs, with VM-level SLA.</span></span> <span data-ttu-id="d290b-377">-你可以完全控制如何管理 SQL。</span><span class="sxs-lookup"><span data-stu-id="d290b-377">- You have complete control over how SQL is managed.</span></span> <span data-ttu-id="d290b-378">-可以重复使用你已拥有，或按某个小时付费的 SQL 许可证。</span><span class="sxs-lookup"><span data-stu-id="d290b-378">- Can re-use SQL licenses you already own, or pay by the hour for one.</span></span> <span data-ttu-id="d290b-379">-适用于处理更少但更大 (1 TB +) 数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-379">- Good for handling fewer but larger (1 TB+) databases.</span></span> |
| <span data-ttu-id="d290b-380">**Cons**的某些功能相比于在本地 SQL Server 的缺口 (缺少[CLR 集成](https://technet.microsoft.com/library/ms131102.aspx)， [TDE](https://technet.microsoft.com/library/bb934049.aspx)，[压缩支持](https://technet.microsoft.com/library/cc280449.aspx)， [SQL ServerReporting Services](https://technet.microsoft.com/library/ms159106.aspx)等) 的数据库大小限制为 500 GB。</span><span class="sxs-lookup"><span data-stu-id="d290b-380">**Cons** - Some feature gaps compared to on-premises SQL Server (lack of [CLR integration](https://technet.microsoft.com/library/ms131102.aspx), [TDE](https://technet.microsoft.com/library/bb934049.aspx), [compression support](https://technet.microsoft.com/library/cc280449.aspx), [SQL Server Reporting Services](https://technet.microsoft.com/library/ms159106.aspx), etc.) - Database size limit of 500GB.</span></span> | <span data-ttu-id="d290b-381">***Cons*** -更新/修补程序 （OS 和 SQL） 是您有责任-创建和管理的数据库对于您有责任的限制为大约 8000 （通过 16 个数据驱动器） 的磁盘 IOPS （每秒输入/输出操作）。</span><span class="sxs-lookup"><span data-stu-id="d290b-381">***Cons*** - Updates/patches (OS and SQL) are your responsibility - Creation and management of DBs are your responsibility - Disk IOPS (input/output operations per second) limited to about 8000 (via 16 data drives).</span></span> |

<span data-ttu-id="d290b-382">如果你想要在 VM 中使用 SQL Server，你可以使用你自己的 SQL Server 许可证，或可以为一个按小时付费。</span><span class="sxs-lookup"><span data-stu-id="d290b-382">If you want to use SQL Server in a VM, you can use your own SQL Server license, or you can pay for one by the hour.</span></span> <span data-ttu-id="d290b-383">例如，在门户中或通过 REST API 可以创建使用 SQL Server 映像的新 VM。</span><span class="sxs-lookup"><span data-stu-id="d290b-383">For example, in the portal or via the REST API you can create a new VM using a SQL Server image.</span></span>

![创建使用 SQL Server VM](data-storage-options/_static/image16.png)

![SQL Server VM 映像的列表](data-storage-options/_static/image17.png)

<span data-ttu-id="d290b-386">在创建 VM 具有 SQL Server 映像，我们创建速率的 SQL Server 许可成本按小时基于你的 VM 的使用情况。</span><span class="sxs-lookup"><span data-stu-id="d290b-386">When you create a VM with a SQL Server image, we pro-rate the SQL Server license cost by the hour based on your usage of the VM.</span></span> <span data-ttu-id="d290b-387">如果你有项目，这只会运行几个月，是按小时付费成本更低。</span><span class="sxs-lookup"><span data-stu-id="d290b-387">If you have a project that's only going to run for a couple of months, it's cheaper to pay by the hour.</span></span> <span data-ttu-id="d290b-388">如果你认为你的项目转到最后一年，是经济购买许可证通常所做的方式。</span><span class="sxs-lookup"><span data-stu-id="d290b-388">If you think your project is going to last for years, it's cheaper to buy the license the way you normally do.</span></span>

## <a name="summary"></a><span data-ttu-id="d290b-389">总结</span><span class="sxs-lookup"><span data-stu-id="d290b-389">Summary</span></span>

<span data-ttu-id="d290b-390">云计算变得切实可行来混合和匹配数据的存储方法，以便最好地满足你的应用程序的需求。</span><span class="sxs-lookup"><span data-stu-id="d290b-390">Cloud computing makes it practical to mix and match data storage approaches to best fit the needs of your application.</span></span> <span data-ttu-id="d290b-391">如果你正在生成新的应用程序，请仔细考虑有关才能选取将继续在你的应用程序的增长，十分适用的方法在此处列出的问题。</span><span class="sxs-lookup"><span data-stu-id="d290b-391">If you're building a new application, think carefully about the questions listed here in order to pick approaches that will continue to work well when your application grows.</span></span> <span data-ttu-id="d290b-392">[下一章](data-partitioning-strategies.md)将介绍一些可用于组合多个数据存储方法的分区策略。</span><span class="sxs-lookup"><span data-stu-id="d290b-392">The [next chapter](data-partitioning-strategies.md) will explain some partitioning strategies that you can use to combine multiple data storage approaches.</span></span>

## <a name="resources"></a><span data-ttu-id="d290b-393">资源</span><span class="sxs-lookup"><span data-stu-id="d290b-393">Resources</span></span>

<span data-ttu-id="d290b-394">有关更多信息，请参见以下资源。</span><span class="sxs-lookup"><span data-stu-id="d290b-394">For more information, see the following resources.</span></span>

<span data-ttu-id="d290b-395">选择的数据库平台：</span><span class="sxs-lookup"><span data-stu-id="d290b-395">Choosing a database platform:</span></span>

- <span data-ttu-id="d290b-396">[高度可缩放解决方案的数据访问： 使用 SQL、 NoSQL 和 Polyglot 持久性](http://aka.ms/dag-doc)。</span><span class="sxs-lookup"><span data-stu-id="d290b-396">[Data Access for Highly-Scalable Solutions: Using SQL, NoSQL, and Polyglot Persistence](http://aka.ms/dag-doc).</span></span> <span data-ttu-id="d290b-397">电子书 Microsoft 模式与实践中的深度放入不同种类的数据存储可用于云应用程序。</span><span class="sxs-lookup"><span data-stu-id="d290b-397">E-book by Microsoft Patterns and Practices that goes in depth into the different kinds of data stores available for cloud applications.</span></span>
- <span data-ttu-id="d290b-398">[Microsoft 模式和实践-Azure 指南](https://msdn.microsoft.com/library/ff898430.aspx)。</span><span class="sxs-lookup"><span data-stu-id="d290b-398">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/ff898430.aspx).</span></span> <span data-ttu-id="d290b-399">请参阅数据一致性入门、 数据复制和同步指南，索引表模式、 具体化视图模式。</span><span class="sxs-lookup"><span data-stu-id="d290b-399">See Data Consistency Primer, Data Replication and Synchronization Guidance, Index Table pattern, Materialized View pattern.</span></span>
- <span data-ttu-id="d290b-400">[基本： Acid 备用](http://queue.acm.org/detail.cfm?id=1394128)。</span><span class="sxs-lookup"><span data-stu-id="d290b-400">[BASE: An Acid Alternative](http://queue.acm.org/detail.cfm?id=1394128).</span></span> <span data-ttu-id="d290b-401">有关数据一致性和可伸缩性之间权衡的文章。</span><span class="sxs-lookup"><span data-stu-id="d290b-401">Article about tradeoffs between data consistency and scalability.</span></span>
- <span data-ttu-id="d290b-402">[七个星期中的七个数据库： 现代数据库和 NoSQL 移动的指南](https://www.amazon.com/Seven-Databases-Weeks-Modern-Movement/dp/1934356921)。</span><span class="sxs-lookup"><span data-stu-id="d290b-402">[Seven Databases in Seven Weeks: A Guide to Modern Databases and the NoSQL Movement](https://www.amazon.com/Seven-Databases-Weeks-Modern-Movement/dp/1934356921).</span></span> <span data-ttu-id="d290b-403">由 Eric Redmond 和 Jim。 wilson 制作的书籍。</span><span class="sxs-lookup"><span data-stu-id="d290b-403">Book by Eric Redmond and Jim R. Wilson.</span></span> <span data-ttu-id="d290b-404">强烈建议为自己引入数据存储平台目前可用的范围。</span><span class="sxs-lookup"><span data-stu-id="d290b-404">Highly recommended for introducing yourself to the range of data storage platforms available today.</span></span>

<span data-ttu-id="d290b-405">SQL Server 和 SQL 数据库之间进行选择：</span><span class="sxs-lookup"><span data-stu-id="d290b-405">Choosing between SQL Server and SQL Database:</span></span>

- <span data-ttu-id="d290b-406">[高级 SQL Database 预览版指导](https://msdn.microsoft.com/library/windowsazure/dn369873.aspx)。</span><span class="sxs-lookup"><span data-stu-id="d290b-406">[Premium Preview for SQL Database Guidance](https://msdn.microsoft.com/library/windowsazure/dn369873.aspx).</span></span> <span data-ttu-id="d290b-407">SQL 数据库高级版，以及有关何时选择而不是 SQL 数据库 Web 和企业版本的指导简介。</span><span class="sxs-lookup"><span data-stu-id="d290b-407">An introduction to SQL Database Premium, and guidance on when to choose it over the SQL Database Web and Business editions.</span></span>
- <span data-ttu-id="d290b-408">[指导原则和限制 (Azure SQL Database)](https://msdn.microsoft.com/library/windowsazure/ff394102.aspx)。</span><span class="sxs-lookup"><span data-stu-id="d290b-408">[Guidelines and Limitations (Azure SQL Database)](https://msdn.microsoft.com/library/windowsazure/ff394102.aspx).</span></span> <span data-ttu-id="d290b-409">链接到有关的 SQL 数据库限制的文档的门户页，其中一个重点介绍该 SQL 数据库的 SQL Server 功能不支持。</span><span class="sxs-lookup"><span data-stu-id="d290b-409">Portal page that links to documentation about limitations of SQL Database, including one that focuses on SQL Server features that SQL Database doesn't support.</span></span>
- <span data-ttu-id="d290b-410">[Azure 虚拟机中的 SQL Server](https://msdn.microsoft.com/library/windowsazure/jj823132.aspx)。</span><span class="sxs-lookup"><span data-stu-id="d290b-410">[SQL Server in Azure Virtual Machines](https://msdn.microsoft.com/library/windowsazure/jj823132.aspx).</span></span> <span data-ttu-id="d290b-411">有关在 Azure 中运行 SQL Server 的文档链接的门户页面。</span><span class="sxs-lookup"><span data-stu-id="d290b-411">Portal page that links to documentation about running SQL Server in Azure.</span></span>
- <span data-ttu-id="d290b-412">[Scott Guthrie 介绍 Azure 中的 SQL 数据库](https://azure.microsoft.com/documentation/videos/sql-in-azure-scottgu/)。</span><span class="sxs-lookup"><span data-stu-id="d290b-412">[Scott Guthrie explains SQL Databases in Azure](https://azure.microsoft.com/documentation/videos/sql-in-azure-scottgu/).</span></span> <span data-ttu-id="d290b-413">SQL 数据库由 Scott Guthrie 6 分钟视频介绍。</span><span class="sxs-lookup"><span data-stu-id="d290b-413">6-minute video introduction to SQL Database by Scott Guthrie.</span></span>
- <span data-ttu-id="d290b-414">[应用程序模式和 Azure 虚拟机中 SQL Server 的开发策略](https://msdn.microsoft.com/library/windowsazure/dn574746.aspx)。</span><span class="sxs-lookup"><span data-stu-id="d290b-414">[Application Patterns and Development Strategies for SQL Server in Azure Virtual Machines](https://msdn.microsoft.com/library/windowsazure/dn574746.aspx).</span></span>

<span data-ttu-id="d290b-415">在 ASP.NET Web 应用程序中使用实体框架和 SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="d290b-415">Using Entity Framework and SQL Database in an ASP.NET Web app</span></span>

- <span data-ttu-id="d290b-416">[EF 6 使用 MVC 5 入门](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)。</span><span class="sxs-lookup"><span data-stu-id="d290b-416">[Getting Started with EF 6 using MVC 5](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md).</span></span> <span data-ttu-id="d290b-417">包含 9 个部分组成的系列教程将指导你完成生成，该服务的 MVC 应用程序使用 EF，并将数据库部署到 Azure 和 SQL 数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-417">Nine-part tutorial series that walks you through building an MVC app that uses EF and deploys the database to Azure and SQL Database.</span></span>
- <span data-ttu-id="d290b-418">[使用 Visual Studio 的 ASP.NET Web 部署](../../../../web-forms/overview/deployment/visual-studio-web-deployment/introduction.md)。</span><span class="sxs-lookup"><span data-stu-id="d290b-418">[ASP.NET Web Deployment using Visual Studio](../../../../web-forms/overview/deployment/visual-studio-web-deployment/introduction.md).</span></span> <span data-ttu-id="d290b-419">十二个一部分进入详细深入探讨了有关如何将数据库部署通过使用 EF Code First 的教程系列。</span><span class="sxs-lookup"><span data-stu-id="d290b-419">Twelve-part tutorial series that goes into more depth about how to deploy a database by using EF Code First.</span></span>
- <span data-ttu-id="d290b-420">[将包含成员资格、 OAuth 和 SQL 数据库的安全 ASP.NET MVC 5 应用程序部署到 Azure 网站](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-app-membership-oauth-sql-database/)。</span><span class="sxs-lookup"><span data-stu-id="d290b-420">[Deploy a Secure ASP.NET MVC 5 app with Membership, OAuth, and SQL Database to an Azure Web Site](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-app-membership-oauth-sql-database/).</span></span> <span data-ttu-id="d290b-421">分步教程将指导你完成创建 web 应用程序使用身份验证、 成员资格数据库中存储应用程序表、 修改数据库架构，和将应用程序部署到 Azure。</span><span class="sxs-lookup"><span data-stu-id="d290b-421">Step-by-step tutorial that walks you through creating a web app that uses authentication, stores application tables in the membership database, modifies the database schema, and deploys the app to Azure.</span></span>
- <span data-ttu-id="d290b-422">[ASP.NET 数据访问内容映射](https://go.microsoft.com/fwlink/p/?LinkId=282414)。</span><span class="sxs-lookup"><span data-stu-id="d290b-422">[ASP.NET Data Access Content Map](https://go.microsoft.com/fwlink/p/?LinkId=282414).</span></span> <span data-ttu-id="d290b-423">用于使用 EF 和 SQL 数据库的资源的链接。</span><span class="sxs-lookup"><span data-stu-id="d290b-423">Links to resources for working with EF and SQL Database.</span></span>

<span data-ttu-id="d290b-424">在 Azure 上使用 MongoDB:</span><span class="sxs-lookup"><span data-stu-id="d290b-424">Using MongoDB on Azure:</span></span>

- <span data-ttu-id="d290b-425">[MongoLab-在 Azure 上的 MongoDB](http://msopentech.com/opentech-projects/mongolab-mongodb-on-windows-azure/)。</span><span class="sxs-lookup"><span data-stu-id="d290b-425">[MongoLab - MongoDB on Azure](http://msopentech.com/opentech-projects/mongolab-mongodb-on-windows-azure/).</span></span> <span data-ttu-id="d290b-426">有关在 Azure 上运行 MongoDB 的文档的门户页。</span><span class="sxs-lookup"><span data-stu-id="d290b-426">Portal page for documentation about running MongoDB on Azure.</span></span>
- <span data-ttu-id="d290b-427">[创建 Azure 网站连接到 Azure 中的虚拟机上运行的 MongoDB](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-store-data-mongodb-vm/)。</span><span class="sxs-lookup"><span data-stu-id="d290b-427">[Create an Azure web site that connects to MongoDB running on a virtual machine in Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-store-data-mongodb-vm/).</span></span> <span data-ttu-id="d290b-428">分步教程演示如何在 ASP.NET web 应用程序中使用 MongoDB 数据库。</span><span class="sxs-lookup"><span data-stu-id="d290b-428">Step-by-step tutorial that shows how to use a MongoDB database in an ASP.NET web application.</span></span>

<span data-ttu-id="d290b-429">HDInsight (Hadoop 在 Azure 上):</span><span class="sxs-lookup"><span data-stu-id="d290b-429">HDInsight (Hadoop on Azure):</span></span>

- <span data-ttu-id="d290b-430">[HDInsight](https://azure.microsoft.com/documentation/services/hdinsight/)。</span><span class="sxs-lookup"><span data-stu-id="d290b-430">[HDInsight](https://azure.microsoft.com/documentation/services/hdinsight/).</span></span> <span data-ttu-id="d290b-431">门户上的 HDInsight 文档[Azure](https://azure.microsoft.com/)网站。</span><span class="sxs-lookup"><span data-stu-id="d290b-431">Portal to HDInsight documentation on the [Azure](https://azure.microsoft.com/) website.</span></span>
- <span data-ttu-id="d290b-432">[Hadoop 和 HDInsight： 在 Azure 中的大数据](https://msdn.microsoft.com/magazine/dn385705.aspx)。</span><span class="sxs-lookup"><span data-stu-id="d290b-432">[Hadoop and HDInsight: Big Data in Azure](https://msdn.microsoft.com/magazine/dn385705.aspx).</span></span> <span data-ttu-id="d290b-433">MSDN 杂志文章 Bruno Terkaly 和 Ricardo Villalobos，引入 Azure 上的 Hadoop。</span><span class="sxs-lookup"><span data-stu-id="d290b-433">MSDN Magazine article by Bruno Terkaly and Ricardo Villalobos, introducing Hadoop on Azure.</span></span>
- <span data-ttu-id="d290b-434">[Microsoft 模式和实践-Azure 指南](https://msdn.microsoft.com/library/dn568099.aspx)。</span><span class="sxs-lookup"><span data-stu-id="d290b-434">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="d290b-435">请参阅 MapReduce 模式。</span><span class="sxs-lookup"><span data-stu-id="d290b-435">See MapReduce pattern.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d290b-436">[上一页](single-sign-on.md)
> [下一页](data-partitioning-strategies.md)</span><span class="sxs-lookup"><span data-stu-id="d290b-436">[Previous](single-sign-on.md)
[Next](data-partitioning-strategies.md)</span></span>
