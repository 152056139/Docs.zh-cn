---
uid: mvc/mvc5
title: ASP.NET MVC 5 |Microsoft Docs
author: rick-anderson
description: ASP.NET MVC 5 ASP.NET MVC 5 是一个框架，用于构建可缩放的基于标准的 web 应用程序使用成熟设计模式以及强大的 AS....
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/20/2014
ms.topic: article
ms.assetid: f79fbf7f-59e5-4279-a832-c1a0294630f4
ms.technology: dotnet-mvc
msc.legacyurl: /mvc/mvc5
msc.type: content
ms.openlocfilehash: f3a81d249f186a2bdea9c25a3e178e13fd2bc830
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/03/2018
ms.locfileid: "37403027"
---
<a name="aspnet-mvc-5"></a><span data-ttu-id="e0b1d-103">ASP.NET MVC 5</span><span class="sxs-lookup"><span data-stu-id="e0b1d-103">ASP.NET MVC 5</span></span>
====================
## <a name="whats-new-in-aspnet-mvc-5"></a><span data-ttu-id="e0b1d-104">什么是 ASP.NET MVC 5 中的新增功能</span><span class="sxs-lookup"><span data-stu-id="e0b1d-104">What's New in ASP.NET MVC 5</span></span>

### <a name="one-aspnet"></a><span data-ttu-id="e0b1d-105">一个 ASP.NET</span><span class="sxs-lookup"><span data-stu-id="e0b1d-105">One ASP.NET</span></span>

<span data-ttu-id="e0b1d-106">Web MVC 项目模板将与新的 One ASP.NET 功能无缝集成。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-106">The Web MVC project templates integrate seamlessly with the new One ASP.NET experience.</span></span> <span data-ttu-id="e0b1d-107">您可以自定义 MVC 项目和配置身份验证使用 One ASP.NET 项目创建向导。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-107">You can customize your MVC project and configure authentication using the One ASP.NET project creation wizard.</span></span> <span data-ttu-id="e0b1d-108">为 ASP.NET MVC 5 的介绍性教程，请参阅[Getting Started with ASP.NET MVC 5](overview/getting-started/introduction/getting-started.md)。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-108">An introductory tutorial to ASP.NET MVC 5 can be found at [Getting Started with ASP.NET MVC 5](overview/getting-started/introduction/getting-started.md).</span></span>

<span data-ttu-id="e0b1d-109">有关将 MVC 4 项目升级到 MVC 5 的信息，请参阅[如何将 ASP.NET MVC 4 和 Web API 项目升级到 ASP.NET MVC 5 和 Web API 2](overview/releases/how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2.md)。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-109">For information on upgrading MVC 4 projects to MVC 5, see [How to Upgrade an ASP.NET MVC 4 and Web API Project to ASP.NET MVC 5 and Web API 2](overview/releases/how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2.md).</span></span>

### <a name="aspnet-identity"></a><span data-ttu-id="e0b1d-110">ASP.NET 标识</span><span class="sxs-lookup"><span data-stu-id="e0b1d-110">ASP.NET Identity</span></span>

<span data-ttu-id="e0b1d-111">已更新的 MVC 项目模板来使用 ASP.NET 标识进行身份验证和标识管理。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-111">The MVC project templates have been updated to use ASP.NET Identity for authentication and identity management.</span></span> <span data-ttu-id="e0b1d-112">提供 Facebook 和 Google 身份验证和新的成员资格 API 的教程，请参阅[创建 ASP.NET MVC 5 应用程序使用 Facebook 和 Google OAuth2 和 OpenID 登录](overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md)和[部署包含的安全 ASP.NET MVC 应用成员资格、 OAuth 和 SQL 数据库添加到 Windows Azure 网站](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data)。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-112">A tutorial featuring Facebook and Google authentication and the new membership API can be found at [Create an ASP.NET MVC 5 App with Facebook and Google OAuth2 and OpenID Sign-on](overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md) and [Deploy a Secure ASP.NET MVC app with Membership, OAuth, and SQL Database to a Windows Azure Web Site](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data).</span></span>

### <a name="bootstrap"></a><span data-ttu-id="e0b1d-113">Bootstrap</span><span class="sxs-lookup"><span data-stu-id="e0b1d-113">Bootstrap</span></span>

<span data-ttu-id="e0b1d-114">MVC 项目模板已更新为使用[Bootstrap](http://getbootstrap.com/)提供时尚且响应迅速的界面外观，可以轻松地自定义。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-114">The MVC project template has been updated to use [Bootstrap](http://getbootstrap.com/) to provide a sleek and responsive look and feel that you can easily customize.</span></span> <span data-ttu-id="e0b1d-115">有关详细信息，请参阅[Visual Studio 2013 web 项目模板中的 Bootstrap](../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#bootstrap)。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-115">For more information, see [Bootstrap in the Visual Studio 2013 web project templates](../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#bootstrap).</span></span>

### <a name="authentication-filters"></a><span data-ttu-id="e0b1d-116">身份验证筛选器</span><span class="sxs-lookup"><span data-stu-id="e0b1d-116">Authentication filters</span></span>

<span data-ttu-id="e0b1d-117">[身份验证筛选器](http://www.dotnetcurry.com/showarticle.aspx?ID=957)是一种新的筛选器在 ASP.NET MVC 中，在 ASP.NET MVC 管道中的授权筛选器之前运行，并允许您指定身份验证逻辑每个操作，每个控制器或全局范围内的所有控制器。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-117">[Authentication filters](http://www.dotnetcurry.com/showarticle.aspx?ID=957) are a new kind of filter in ASP.NET MVC that run prior to authorization filters in the ASP.NET MVC pipeline and allow you to specify authentication logic per-action, per-controller, or globally for all controllers.</span></span> <span data-ttu-id="e0b1d-118">身份验证筛选器处理在请求中的凭据，并提供相应的用户权限。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-118">Authentication filters process credentials in the request and provide a corresponding principal.</span></span> <span data-ttu-id="e0b1d-119">身份验证筛选器还可以在未经授权的请求响应中添加身份验证质询。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-119">Authentication filters can also add authentication challenges in response to unauthorized requests.</span></span> <span data-ttu-id="e0b1d-120">请参阅[ASP.NET MVC 5 身份验证筛选器](http://www.dotnetcurry.com/showarticle.aspx?ID=957)， [ASP.NET MVC 5 中的身份验证筛选器](http://theshravan.net/blog/authentication-filters-in-asp-net-mvc-5/)。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-120">See [ASP.NET MVC 5 Authentication Filters](http://www.dotnetcurry.com/showarticle.aspx?ID=957), [Authentication Filters in ASP.NET MVC 5](http://theshravan.net/blog/authentication-filters-in-asp-net-mvc-5/).</span></span>

### <a name="filter-overrides"></a><span data-ttu-id="e0b1d-121">筛选器替代项</span><span class="sxs-lookup"><span data-stu-id="e0b1d-121">Filter overrides</span></span>

<span data-ttu-id="e0b1d-122">你现在可以重写的筛选器适用于给定的操作方法或控制器通过指定[重写筛选器](http://www.davidhayden.me/blog/filter-overrides-in-asp-net-mvc-5)。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-122">You can now override which filters apply to a given action method or controller by specifying an [override filter](http://www.davidhayden.me/blog/filter-overrides-in-asp-net-mvc-5).</span></span> <span data-ttu-id="e0b1d-123">覆盖筛选器指定一的组不应运行给定作用域 （操作或控制器） 的筛选器类型。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-123">Override filters specify a set of filter types that should not be run for a given scope (action or controller).</span></span> <span data-ttu-id="e0b1d-124">这允许你配置的全局应用，但然后排除特定全局筛选器应用到特定操作或控制器筛选器。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-124">This allows you to configure filters that apply globally but then exclude certain global filters from applying to specific actions or controllers.</span></span> <span data-ttu-id="e0b1d-125">请参阅[ASP.NET MVC 5 和 ASP.NET Web API 2 中的新筛选器替代项新功能](https://weblogs.asp.net/imranbaloch/archive/2013/09/25/new-filter-overrides-in-asp-net-mvc-5-and-asp-net-web-api-2.aspx)，[如何使用 ASP.NET MVC 5 筛选器将重写功能](http://hackwebwith.net/how-to-use-the-asp-net-mvc-5-filter-overrides-feature/)，和[ASP.NET MVC 5 中的筛选器替代项](http://www.davidhayden.me/blog/filter-overrides-in-asp-net-mvc-5)</span><span class="sxs-lookup"><span data-stu-id="e0b1d-125">See [New Filter Overrides feature in ASP.NET MVC 5 and ASP.NET Web API 2](https://weblogs.asp.net/imranbaloch/archive/2013/09/25/new-filter-overrides-in-asp-net-mvc-5-and-asp-net-web-api-2.aspx), [How to use the ASP.NET MVC 5 Filter Overrides Feature](http://hackwebwith.net/how-to-use-the-asp-net-mvc-5-filter-overrides-feature/), and [Filter Overrides in ASP.NET MVC 5](http://www.davidhayden.me/blog/filter-overrides-in-asp-net-mvc-5)</span></span>

### <a name="attribute-routing"></a><span data-ttu-id="e0b1d-126">属性路由</span><span class="sxs-lookup"><span data-stu-id="e0b1d-126">Attribute routing</span></span>

<span data-ttu-id="e0b1d-127">ASP.NET MVC 现在支持[的属性路由](https://blogs.msdn.com/b/webdev/archive/2013/10/17/attribute-routing-in-asp-net-mvc-5.aspx)，得益于由 Tim McCall，一书的作者的发布内容[ http://attributerouting.net ](http://attributerouting.net)。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-127">ASP.NET MVC now supports [attribute routing](https://blogs.msdn.com/b/webdev/archive/2013/10/17/attribute-routing-in-asp-net-mvc-5.aspx), thanks to a contribution by Tim McCall, the author of [http://attributerouting.net](http://attributerouting.net).</span></span> <span data-ttu-id="e0b1d-128">使用属性路由可以对操作和控制器进行批注来指定路由。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-128">With attribute routing you can specify your routes by annotating your actions and controllers.</span></span>

## <a name="new-web-project-experience"></a><span data-ttu-id="e0b1d-129">新的 Web 项目体验</span><span class="sxs-lookup"><span data-stu-id="e0b1d-129">New Web Project Experience</span></span>

<span data-ttu-id="e0b1d-130">提供了增强的 Visual Studio 2013 中创建新的 web 项目的体验。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-130">We have enhanced the experience of creating new web projects in Visual Studio 2013.</span></span> <span data-ttu-id="e0b1d-131">在中**新的 ASP.NET Web 项目**对话框，可以选择希望、 配置技术 (Web 窗体、 MVC、 Web API) 的任意组合，配置身份验证选项，以及添加单元测试项目的项目类型。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-131">In the **New ASP.NET Web Project** dialog you can select the project type you want, configure any combination of technologies (Web Forms, MVC, Web API), configure authentication options, and add a unit test project.</span></span>

![新建 ASP.NET 项目](mvc5/_static/image1.png)

<span data-ttu-id="e0b1d-133">新建对话框可以更改许多模板的默认身份验证选项。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-133">The new dialog enables you to change the default authentication options for many of the templates.</span></span> <span data-ttu-id="e0b1d-134">例如，创建 ASP.NET Web 窗体项目时您可以选择以下选项之一：</span><span class="sxs-lookup"><span data-stu-id="e0b1d-134">For example, when you create an ASP.NET Web Forms project you can select any of the following options:</span></span>

- <span data-ttu-id="e0b1d-135">无身份验证</span><span class="sxs-lookup"><span data-stu-id="e0b1d-135">No Authentication</span></span>
- <span data-ttu-id="e0b1d-136">单个用户帐户 （ASP.NET 成员身份或社交提供程序登录）</span><span class="sxs-lookup"><span data-stu-id="e0b1d-136">Individual User Accounts (ASP.NET membership or social provider log in)</span></span>
- <span data-ttu-id="e0b1d-137">组织帐户 (Active Directory 中的 internet 应用程序)</span><span class="sxs-lookup"><span data-stu-id="e0b1d-137">Organizational Accounts (Active Directory in an internet application)</span></span>
- <span data-ttu-id="e0b1d-138">Windows 身份验证 (Active Directory 中的 intranet 应用程序)</span><span class="sxs-lookup"><span data-stu-id="e0b1d-138">Windows Authentication (Active Directory in an intranet application)</span></span>

![身份验证选项](mvc5/_static/image2.png)

<span data-ttu-id="e0b1d-140">有关创建 web 项目的新过程的详细信息，请参阅[在 Visual Studio 2013 中创建 ASP.NET Web 项目](../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-140">For more information about the new process for creating web projects, see [Creating ASP.NET Web Projects in Visual Studio 2013](../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md).</span></span> <span data-ttu-id="e0b1d-141">有关新的身份验证选项的详细信息，请参阅[ASP.NET 标识](../identity/overview/index.md)。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-141">For more information about the new authentication options, see [ASP.NET Identity](../identity/overview/index.md).</span></span>

<a id="scaffold"></a>
### <a name="aspnet-scaffolding"></a><span data-ttu-id="e0b1d-142">ASP.NET 基架</span><span class="sxs-lookup"><span data-stu-id="e0b1d-142">ASP.NET Scaffolding</span></span>

<span data-ttu-id="e0b1d-143">ASP.NET 基架是用于 ASP.NET Web 应用程序的代码生成框架。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-143">ASP.NET Scaffolding is a code generation framework for ASP.NET Web applications.</span></span> <span data-ttu-id="e0b1d-144">它可以轻松地将样板代码添加到项目中使用的数据模型进行交互。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-144">It makes it easy to add boilerplate code to your project that interacts with a data model.</span></span>

<span data-ttu-id="e0b1d-145">在以前版本的 Visual Studio 中，基架被限制为 ASP.NET MVC 项目。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-145">In previous versions of Visual Studio, scaffolding was limited to ASP.NET MVC projects.</span></span> <span data-ttu-id="e0b1d-146">使用 Visual Studio 2013，现在可以用于任何 ASP.NET 项目，包括 Web 窗体使用基架。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-146">With Visual Studio 2013, you can now use scaffolding for any ASP.NET project, including Web Forms.</span></span> <span data-ttu-id="e0b1d-147">Visual Studio 2013 当前不支持生成页对于 Web 窗体项目，但您仍可以使用基架使用 Web 窗体通过向项目添加 MVC 依赖项。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-147">Visual Studio 2013 does not currently support generating pages for a Web Forms project, but you can still use scaffolding with Web Forms by adding MVC dependencies to the project.</span></span> <span data-ttu-id="e0b1d-148">将在未来更新中添加对生成的 Web 窗体页的支持。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-148">Support for generating pages for Web Forms will be added in a future update.</span></span>

<span data-ttu-id="e0b1d-149">在使用基架，我们确保所有必需的依赖项安装在项目中。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-149">When using scaffolding, we ensure that all required dependencies are installed in the project.</span></span> <span data-ttu-id="e0b1d-150">例如，如果您开始创建 ASP.NET Web 窗体项目，然后使用基架添加 Web API 控制器，所需的 NuGet 包和引用将自动添加到你的项目。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-150">For example, if you start with an ASP.NET Web Forms project and then use scaffolding to add a Web API Controller, the required NuGet packages and references are added to your project automatically.</span></span>

<span data-ttu-id="e0b1d-151">若要将 MVC 基架添加到 Web 窗体项目，添加**新基架项**，然后选择**MVC 5 依赖项**在对话框窗口中。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-151">To add MVC scaffolding to a Web Forms project, add a **New Scaffolded Item** and select **MVC 5 Dependencies** in the dialog window.</span></span> <span data-ttu-id="e0b1d-152">有两个选项基架 MVC;最小和完全。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-152">There are two options for scaffolding MVC; Minimal and Full.</span></span> <span data-ttu-id="e0b1d-153">如果你选择最小，NuGet 包和 ASP.NET MVC 的引用添加到你的项目。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-153">If you select Minimal, only the NuGet packages and references for ASP.NET MVC are added to your project.</span></span> <span data-ttu-id="e0b1d-154">如果选择完全选项，添加最小依赖项，以及对于 MVC 项目所需的内容文件。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-154">If you select the Full option, the Minimal dependencies are added, as well as the required content files for an MVC project.</span></span>

<span data-ttu-id="e0b1d-155">对基架异步控制器的支持使用从 Entity Framework 6 的新异步功能。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-155">Support for scaffolding async controllers uses the new async features from Entity Framework 6.</span></span>

<span data-ttu-id="e0b1d-156">有关详细信息和教程，请参阅[ASP.NET 基架概述](../visual-studio/overview/2013/aspnet-scaffolding-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="e0b1d-156">For more information and tutorials, see [ASP.NET Scaffolding Overview](../visual-studio/overview/2013/aspnet-scaffolding-overview.md).</span></span>

### <a name="getting-help-and-reporting-issues"></a><span data-ttu-id="e0b1d-157">获取帮助和报告的问题</span><span class="sxs-lookup"><span data-stu-id="e0b1d-157">Getting Help and Reporting Issues</span></span>

- [<span data-ttu-id="e0b1d-158">已知的问题和重大更改列表</span><span class="sxs-lookup"><span data-stu-id="e0b1d-158">Known issues and breaking changes list</span></span>](../visual-studio/overview/2013/release-notes.md#knownissues)
- <span data-ttu-id="e0b1d-159">获取帮助和讨论中的 ASP.NET MVC 5[论坛](https://forums.asp.net/1146.aspx)</span><span class="sxs-lookup"><span data-stu-id="e0b1d-159">Get help and discuss ASP.NET MVC 5 in the [forums](https://forums.asp.net/1146.aspx)</span></span>
- [<span data-ttu-id="e0b1d-160">报告在 ASP.NET MVC 5 中的 bug</span><span class="sxs-lookup"><span data-stu-id="e0b1d-160">Report a bug in ASP.NET MVC 5</span></span>](https://github.com/aspnet/AspNetWebStack/issues)
- [<span data-ttu-id="e0b1d-161">提出功能请求</span><span class="sxs-lookup"><span data-stu-id="e0b1d-161">Make a feature request</span></span>](http://aspnet.uservoice.com/forums/41201-asp-net-mvc)

### <a name="upgrading-from-aspnet-mvc-4"></a><span data-ttu-id="e0b1d-162">从 ASP.NET MVC 4 升级</span><span class="sxs-lookup"><span data-stu-id="e0b1d-162">Upgrading from ASP.NET MVC 4</span></span>

<span data-ttu-id="e0b1d-163">请参阅[如何升级 ASP.NET MVC 4 和 Web API 项目到 ASP.NET MVC 5 和 Web API 2](overview/releases/how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2.md)</span><span class="sxs-lookup"><span data-stu-id="e0b1d-163">See [How to Upgrade an ASP.NET MVC 4 and Web API Project to ASP.NET MVC 5 and Web API 2](overview/releases/how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2.md)</span></span>
