---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-across-two-pages-cs
title: "跨两个页 (C#) 筛选主/详细信息 |Microsoft 文档"
author: rick-anderson
description: "在本教程中我们将使用一个 GridView 若要列出数据库中的供应商来实现此模式。 每个供应商中行 GridView 将包含 Vie..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: 552d2d50-fe73-4153-9a7f-2b379bec4625
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-across-two-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 3411272896dee0da4d5f89aa2bdda0999d660423
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/24/2018
---
<a name="masterdetail-filtering-across-two-pages-c"></a><span data-ttu-id="c069e-104">大纲/细节筛选跨两个页 (C#)</span><span class="sxs-lookup"><span data-stu-id="c069e-104">Master/Detail Filtering Across Two Pages (C#)</span></span>
====================
<span data-ttu-id="c069e-105">通过[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="c069e-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="c069e-106">[下载示例应用程序](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_9_CS.exe)或[下载 PDF](master-detail-filtering-across-two-pages-cs/_static/datatutorial09cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="c069e-106">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_9_CS.exe) or [Download PDF](master-detail-filtering-across-two-pages-cs/_static/datatutorial09cs1.pdf)</span></span>

> <span data-ttu-id="c069e-107">在本教程中我们将使用一个 GridView 若要列出数据库中的供应商来实现此模式。</span><span class="sxs-lookup"><span data-stu-id="c069e-107">In this tutorial we'll implement this pattern by using a GridView to list the suppliers in the database.</span></span> <span data-ttu-id="c069e-108">每个供应商中行 GridView 将包含，当单击，会使用户进入单独页时，它为所选供应商列出这些产品的查看产品链接。</span><span class="sxs-lookup"><span data-stu-id="c069e-108">Each supplier row in the GridView will contain a View Products link that, when clicked, will take the user to a separate page that lists those products for the selected supplier.</span></span>


## <a name="introduction"></a><span data-ttu-id="c069e-109">介绍</span><span class="sxs-lookup"><span data-stu-id="c069e-109">Introduction</span></span>

<span data-ttu-id="c069e-110">在前面的两个教程中，我们将了解如何[主/详细信息报表显示在单个 web 页面使用 DropDownLists](master-detail-filtering-with-a-dropdownlist-cs.md)到[显示的"主"的记录和 GridView 或说明控件](master-detail-filtering-with-two-dropdownlists-cs.md)以显示"详细信息。"</span><span class="sxs-lookup"><span data-stu-id="c069e-110">In the previous two tutorials we saw how to [display master/detail reports in a single web page using DropDownLists](master-detail-filtering-with-a-dropdownlist-cs.md) to [display the "master" records and a GridView or DetailsView control](master-detail-filtering-with-two-dropdownlists-cs.md) to display the "details."</span></span> <span data-ttu-id="c069e-111">用于主/详细信息报表的另一种常见模式是具有一个 web 页面，在另一台显示的详细信息上的主记录。</span><span class="sxs-lookup"><span data-stu-id="c069e-111">Another common pattern used for master/details reports is to have the master records on one web page and the details shown on another.</span></span> <span data-ttu-id="c069e-112">论坛网站、 like [ASP.NET 论坛](https://forums.asp.net/)，是在实践中此模式的出色示例。</span><span class="sxs-lookup"><span data-stu-id="c069e-112">A forum website, like [the ASP.NET Forums](https://forums.asp.net/), is a great example of this pattern in practice.</span></span> <span data-ttu-id="c069e-113">ASP.NET 论坛是组成各种论坛开始使用，Web 窗体数据 Presentation 控件，等等。</span><span class="sxs-lookup"><span data-stu-id="c069e-113">The ASP.NET Forums are composed of a variety of forums Getting Started, Web Forms, Data Presentation Controls, and so on.</span></span> <span data-ttu-id="c069e-114">每个论坛组成多个线程和每个线程组成大量的文章。</span><span class="sxs-lookup"><span data-stu-id="c069e-114">Each forum is composed of many threads and each thread is composed of a number of posts.</span></span> <span data-ttu-id="c069e-115">在 ASP.NET 论坛主页上，列出了论坛。</span><span class="sxs-lookup"><span data-stu-id="c069e-115">On the ASP.NET Forums homepage, the forums are listed.</span></span> <span data-ttu-id="c069e-116">在论坛上单击 whisks 你`ShowForum.aspx`页面，其中列出该论坛的线程。</span><span class="sxs-lookup"><span data-stu-id="c069e-116">Clicking on a forum whisks you to a `ShowForum.aspx` page, which lists the threads for that forum.</span></span> <span data-ttu-id="c069e-117">同样，在线程上单击带你访问`ShowPost.aspx`，它会显示的线程的被单击的文章。</span><span class="sxs-lookup"><span data-stu-id="c069e-117">Likewise, clicking on a thread takes you to `ShowPost.aspx`, which displays the posts for the thread that was clicked.</span></span>

<span data-ttu-id="c069e-118">在本教程中我们将使用一个 GridView 若要列出数据库中的供应商来实现此模式。</span><span class="sxs-lookup"><span data-stu-id="c069e-118">In this tutorial we'll implement this pattern by using a GridView to list the suppliers in the database.</span></span> <span data-ttu-id="c069e-119">每个供应商中行 GridView 将包含，当单击，会使用户进入单独页时，它为所选供应商列出这些产品的查看产品链接。</span><span class="sxs-lookup"><span data-stu-id="c069e-119">Each supplier row in the GridView will contain a View Products link that, when clicked, will take the user to a separate page that lists those products for the selected supplier.</span></span>

## <a name="step-1-addingsupplierlistmasteraspxandproductsforsupplierdetailsaspxpages-to-thefilteringfolder"></a><span data-ttu-id="c069e-120">步骤 1： 添加`SupplierListMaster.aspx`和`ProductsForSupplierDetails.aspx`到页`Filtering`文件夹</span><span class="sxs-lookup"><span data-stu-id="c069e-120">Step 1: Adding`SupplierListMaster.aspx`and`ProductsForSupplierDetails.aspx`Pages to the`Filtering`Folder</span></span>

<span data-ttu-id="c069e-121">在第三个教程中定义页面布局时我们添加了大量中的"起始"页`BasicReporting`， `Filtering`，和`CustomFormatting`文件夹。</span><span class="sxs-lookup"><span data-stu-id="c069e-121">When defining the page layout in the third tutorial we added a number of "starter" pages in the `BasicReporting`, `Filtering`, and `CustomFormatting` folders.</span></span> <span data-ttu-id="c069e-122">但是，我们未添加起始页出于本教程在该时间，因此需要一段时间来添加到两个新页面`Filtering`文件夹：`SupplierListMaster.aspx`和`ProductsForSupplierDetails.aspx`。</span><span class="sxs-lookup"><span data-stu-id="c069e-122">However, we did not add a starter page for this tutorial at that time, so take a moment to add two new pages to the `Filtering` folder: `SupplierListMaster.aspx` and `ProductsForSupplierDetails.aspx`.</span></span> <span data-ttu-id="c069e-123">`SupplierListMaster.aspx`将列出时的"主"记录 （供应商）`ProductsForSupplierDetails.aspx`将显示有关所选供应商的产品。</span><span class="sxs-lookup"><span data-stu-id="c069e-123">`SupplierListMaster.aspx` will list the "master" records (the suppliers) while `ProductsForSupplierDetails.aspx` will display the products for the selected supplier.</span></span>

<span data-ttu-id="c069e-124">当创建这些两个新页面请务必将其与关联`Site.master`母版页。</span><span class="sxs-lookup"><span data-stu-id="c069e-124">When creating these two new pages be certain to associate them with the `Site.master` master page.</span></span>


![将 SupplierListMaster.aspx 和 ProductsForSupplierDetails.aspx 页添加到筛选文件夹](master-detail-filtering-across-two-pages-cs/_static/image1.png)

<span data-ttu-id="c069e-126">**图 1**： 添加`SupplierListMaster.aspx`和`ProductsForSupplierDetails.aspx`到页`Filtering`文件夹</span><span class="sxs-lookup"><span data-stu-id="c069e-126">**Figure 1**: Add the `SupplierListMaster.aspx` and `ProductsForSupplierDetails.aspx` Pages to the `Filtering` Folder</span></span>


<span data-ttu-id="c069e-127">此外，当将新页面添加到项目中，务必要更新站点映射文件， `Web.sitemap`，相应地。</span><span class="sxs-lookup"><span data-stu-id="c069e-127">Also, when adding new pages to the project, be sure to update the site map file, `Web.sitemap`, accordingly.</span></span> <span data-ttu-id="c069e-128">对于本教程只需添加`SupplierListMaster.aspx`作为子级的筛选报表中使用以下 XML 内容的网站映射到页`<siteMapNode>`元素：</span><span class="sxs-lookup"><span data-stu-id="c069e-128">For this tutorial simply add the `SupplierListMaster.aspx` page to the site map using the following XML content as a child of the Filtering Reports `<siteMapNode>` element:</span></span>


[!code-xml[Main](master-detail-filtering-across-two-pages-cs/samples/sample1.xml)]

> [!NOTE]
> <span data-ttu-id="c069e-129">你可以帮助自动更新站点映射文件时添加新的 ASP.NET 页使用的过程[k。 Scott Allen](http://odetocode.com/Blogs/scott/)Visual Studio 的免费[站点映射宏](http://odetocode.com/Blogs/scott/archive/2005/11/29/2537.aspx)。</span><span class="sxs-lookup"><span data-stu-id="c069e-129">You can help automate the process of updating the site map file when adding new ASP.NET pages using [K. Scott Allen](http://odetocode.com/Blogs/scott/)'s free Visual Studio [Site Map Macro](http://odetocode.com/Blogs/scott/archive/2005/11/29/2537.aspx).</span></span>


## <a name="step-2-displaying-the-supplier-list-insupplierlistmasteraspx"></a><span data-ttu-id="c069e-130">步骤 2： 显示中的供应商列表`SupplierListMaster.aspx`</span><span class="sxs-lookup"><span data-stu-id="c069e-130">Step 2: Displaying the Supplier List in`SupplierListMaster.aspx`</span></span>

<span data-ttu-id="c069e-131">与`SupplierListMaster.aspx`和`ProductsForSupplierDetails.aspx`创建的页面，我们的下一步是创建的供应商的 GridView `SupplierListMaster.aspx`。</span><span class="sxs-lookup"><span data-stu-id="c069e-131">With the `SupplierListMaster.aspx` and `ProductsForSupplierDetails.aspx` pages created, our next step is to create the GridView of suppliers in `SupplierListMaster.aspx`.</span></span> <span data-ttu-id="c069e-132">向页面添加一个 GridView，并将其绑定到新对象数据源。</span><span class="sxs-lookup"><span data-stu-id="c069e-132">Add a GridView to the page and bind it to a new ObjectDataSource.</span></span> <span data-ttu-id="c069e-133">应使用此 ObjectDataSource`SuppliersBLL`类的`GetSuppliers()`方法以返回所有供应商。</span><span class="sxs-lookup"><span data-stu-id="c069e-133">This ObjectDataSource should use the `SuppliersBLL` class's `GetSuppliers()` method to return all suppliers.</span></span>


<span data-ttu-id="c069e-134">[![选择 SuppliersBLL 类](master-detail-filtering-across-two-pages-cs/_static/image3.png)](master-detail-filtering-across-two-pages-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-134">[![Select the SuppliersBLL Class](master-detail-filtering-across-two-pages-cs/_static/image3.png)](master-detail-filtering-across-two-pages-cs/_static/image2.png)</span></span>

<span data-ttu-id="c069e-135">**图 2**： 选择`SuppliersBLL`类 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-135">**Figure 2**: Select the `SuppliersBLL` Class ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image4.png))</span></span>


<span data-ttu-id="c069e-136">[![配置对象数据源以使用 GetSuppliers() 方法](master-detail-filtering-across-two-pages-cs/_static/image6.png)](master-detail-filtering-across-two-pages-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-136">[![Configure the ObjectDataSource to Use the GetSuppliers() Method](master-detail-filtering-across-two-pages-cs/_static/image6.png)](master-detail-filtering-across-two-pages-cs/_static/image5.png)</span></span>

<span data-ttu-id="c069e-137">**图 3**： 配置使用 ObjectDataSource`GetSuppliers()`方法 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-137">**Figure 3**: Configure the ObjectDataSource to Use the `GetSuppliers()` Method ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image7.png))</span></span>


<span data-ttu-id="c069e-138">我们需要包含一个链接，标题为查看产品每 GridView 行中，单击时，将用户带到`ProductsForSupplierDetails.aspx`选定行中传递`SupplierID`通过查询字符串的值。</span><span class="sxs-lookup"><span data-stu-id="c069e-138">We need to include a link titled View Products in each GridView row that, when clicked, takes the user to `ProductsForSupplierDetails.aspx` passing in the selected row's `SupplierID` value through the querystring.</span></span> <span data-ttu-id="c069e-139">例如，如果用户单击东京 Traders 供应商查看产品链接 (具有`SupplierID`值为 4)，应将它们发送到`ProductsForSupplierDetails.aspx?SupplierID=4`。</span><span class="sxs-lookup"><span data-stu-id="c069e-139">For example, if user clicks on the View Products link for the Tokyo Traders supplier (which has a `SupplierID` value of 4), they should be sent to `ProductsForSupplierDetails.aspx?SupplierID=4`.</span></span>

<span data-ttu-id="c069e-140">若要完成此操作，将添加[HyperLinkField](https://msdn.microsoft.com/library/system.web.ui.webcontrols.hyperlinkfield.aspx)到 GridView，从而将超链接添加到每个 GridView 行。</span><span class="sxs-lookup"><span data-stu-id="c069e-140">To accomplish this, add a [HyperLinkField](https://msdn.microsoft.com/library/system.web.ui.webcontrols.hyperlinkfield.aspx) to the GridView, which adds a hyperlink to each GridView row.</span></span> <span data-ttu-id="c069e-141">通过单击从 GridView 的智能标记的编辑列链接启动。</span><span class="sxs-lookup"><span data-stu-id="c069e-141">Start by clicking the Edit Columns link from the GridView's smart tag.</span></span> <span data-ttu-id="c069e-142">接下来，从左上方列表中选择 HyperLinkField 并单击添加在 GridView 的字段列表中包括 HyperLinkField。</span><span class="sxs-lookup"><span data-stu-id="c069e-142">Next, select the HyperLinkField from the list in the upper left and click Add to include the HyperLinkField in the GridView's field list.</span></span>


<span data-ttu-id="c069e-143">[![将 HyperLinkField 添加到 GridView](master-detail-filtering-across-two-pages-cs/_static/image9.png)](master-detail-filtering-across-two-pages-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-143">[![Add a HyperLinkField to the GridView](master-detail-filtering-across-two-pages-cs/_static/image9.png)](master-detail-filtering-across-two-pages-cs/_static/image8.png)</span></span>

<span data-ttu-id="c069e-144">**图 4**: HyperLinkField 添加 GridView ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-144">**Figure 4**: Add a HyperLinkField to the GridView ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image10.png))</span></span>


<span data-ttu-id="c069e-145">HyperLinkField 可以配置为使用相同的文本或 URL 值在每个 GridView 行中，链接，也可以将这些值基于绑定到每个特定行的数据值。</span><span class="sxs-lookup"><span data-stu-id="c069e-145">The HyperLinkField can be configured to use the same text or URL values the link in each GridView row, or can base these values on the data values bound to each particular row.</span></span> <span data-ttu-id="c069e-146">若要指定静态跨所有行的值使用 HyperLinkField`Text`或`NavigateUrl`属性。</span><span class="sxs-lookup"><span data-stu-id="c069e-146">To specify a static value across all rows use the HyperLinkField's `Text` or `NavigateUrl` properties.</span></span> <span data-ttu-id="c069e-147">由于我们想要的所有行是相同的链接文本，设置 HyperLinkField`Text`查看产品的属性。</span><span class="sxs-lookup"><span data-stu-id="c069e-147">Since we want the link text to be the same for all rows, set the HyperLinkField's `Text` property to View Products.</span></span>


<span data-ttu-id="c069e-148">[![将 HyperLinkField 的文本属性设置为视图产品](master-detail-filtering-across-two-pages-cs/_static/image12.png)](master-detail-filtering-across-two-pages-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-148">[![Set the HyperLinkField's Text Property to View Products](master-detail-filtering-across-two-pages-cs/_static/image12.png)](master-detail-filtering-across-two-pages-cs/_static/image11.png)</span></span>

<span data-ttu-id="c069e-149">**图 5**： 设置 HyperLinkField`Text`查看产品属性 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image13.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-149">**Figure 5**: Set the HyperLinkField's `Text` Property to View Products ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image13.png))</span></span>


<span data-ttu-id="c069e-150">若要设置的文本或 URL 值根据基础数据绑定到 GridView 行，指定数据字段的文本或应从在请求 URL 值`DataTextField`或`DataNavigateUrlFields`属性。</span><span class="sxs-lookup"><span data-stu-id="c069e-150">To set the text or URL values to be based on the underlying data bound to the GridView row, specify the data fields the text or URL values should be pulled from in the `DataTextField` or `DataNavigateUrlFields` properties.</span></span> <span data-ttu-id="c069e-151">`DataTextField`只能设置为的单个数据字段;`DataNavigateUrlFields`，但是，可以将设置为以逗号分隔列表的数据字段。</span><span class="sxs-lookup"><span data-stu-id="c069e-151">`DataTextField` can only be set to a single data field; `DataNavigateUrlFields`, however, can be set to a comma-delimited list of data fields.</span></span> <span data-ttu-id="c069e-152">我们经常需要基于文本或在当前行的数据字段值和一些静态标记的组合的 URL。</span><span class="sxs-lookup"><span data-stu-id="c069e-152">We frequently need to base the text or URL on a combination of the current row's data field value and some static markup.</span></span> <span data-ttu-id="c069e-153">在本教程中，例如，我们希望 HyperLinkField 的链接的 URL 为`ProductsForSupplierDetails.aspx?SupplierID=supplierID`，其中 *`supplierID`* 是每个 GridView 行`SupplierID`值。</span><span class="sxs-lookup"><span data-stu-id="c069e-153">In this tutorial, for example, we want the URL of the HyperLinkField's links to be `ProductsForSupplierDetails.aspx?SupplierID=supplierID`, where *`supplierID`* is each GridView's row's `SupplierID` value.</span></span> <span data-ttu-id="c069e-154">请注意，我们需要这两个静态数据驱动此处值：`ProductsForSupplierDetails.aspx?SupplierID=`链接的 URL 部分是静态的而 *`supplierID`* 部分是数据驱动由于其值是每个行自己的`SupplierID`值。</span><span class="sxs-lookup"><span data-stu-id="c069e-154">Notice that we need both static and data-driven values here: the `ProductsForSupplierDetails.aspx?SupplierID=` portion of the link's URL is static, whereas the *`supplierID`* portion is data-driven as its value is each row's own `SupplierID` value.</span></span>

<span data-ttu-id="c069e-155">若要指示静态和数据驱动的值的组合，使用`DataTextFormatString`和`DataNavigateUrlFormatString`属性。</span><span class="sxs-lookup"><span data-stu-id="c069e-155">To indicate a combination of static and data-driven values, use the `DataTextFormatString` and `DataNavigateUrlFormatString` properties.</span></span> <span data-ttu-id="c069e-156">根据需要则这些属性中输入的静态标记，然后使用标记`{0}`想中指定的字段的值`DataTextField`或`DataNavigateUrlFields`属性显示。</span><span class="sxs-lookup"><span data-stu-id="c069e-156">In these properties enter the static markup as needed and then use the marker `{0}` where you want the value of the field specified in the `DataTextField` or `DataNavigateUrlFields` properties to appear.</span></span> <span data-ttu-id="c069e-157">如果`DataNavigateUrlFields`属性具有多个字段指定的使用`{0}`插入的第一个字段值的位置`{1}`第二个字段值，等等。</span><span class="sxs-lookup"><span data-stu-id="c069e-157">If the `DataNavigateUrlFields` property has multiple fields specified use `{0}` where you want the first field value inserted, `{1}` for the second field value, and so on.</span></span>

<span data-ttu-id="c069e-158">将此应用于我们的教程，我们需要将设置`DataNavigateUrlFields`属性`SupplierID`，因为它是数据字段我们需要根据每个行，自定义其值与`DataNavigateUrlFormatString`属性`ProductsForSupplierDetails.aspx?SupplierID={0}`。</span><span class="sxs-lookup"><span data-stu-id="c069e-158">Applying this to our tutorial, we need to set the `DataNavigateUrlFields` property to `SupplierID`, since that's the data field whose value we need to customize on a per-row basis, and the `DataNavigateUrlFormatString` property to `ProductsForSupplierDetails.aspx?SupplierID={0}`.</span></span>


<span data-ttu-id="c069e-159">[![配置 HyperLinkField 以包括基于供应商 Id 正确链接 URL](master-detail-filtering-across-two-pages-cs/_static/image15.png)](master-detail-filtering-across-two-pages-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-159">[![Configure the HyperLinkField to Include the Proper Link URL Based Upon the SupplierID](master-detail-filtering-across-two-pages-cs/_static/image15.png)](master-detail-filtering-across-two-pages-cs/_static/image14.png)</span></span>

<span data-ttu-id="c069e-160">**图 6**： 配置 HyperLinkField 正确链接 URL 基于时包括`SupplierID`([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-160">**Figure 6**: Configure the HyperLinkField to Include the Proper Link URL Based Upon the `SupplierID` ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image16.png))</span></span>


<span data-ttu-id="c069e-161">在添加后 HyperLinkField，随意自定义和 GridView 的字段重新排序。</span><span class="sxs-lookup"><span data-stu-id="c069e-161">After adding the HyperLinkField, feel free to customize and reorder the GridView's fields.</span></span> <span data-ttu-id="c069e-162">以下标记显示 GridView 后所做的一些小的字段级自定义。</span><span class="sxs-lookup"><span data-stu-id="c069e-162">The following markup shows the GridView after I've made some minor field-level customizations.</span></span>


[!code-aspx[Main](master-detail-filtering-across-two-pages-cs/samples/sample2.aspx)]

<span data-ttu-id="c069e-163">花些时间查看`SupplierListMaster.aspx`通过浏览器的页。</span><span class="sxs-lookup"><span data-stu-id="c069e-163">Take a moment to view the `SupplierListMaster.aspx` page through a browser.</span></span> <span data-ttu-id="c069e-164">如图 7 所示，页当前列出所有供应商包括查看产品链接。</span><span class="sxs-lookup"><span data-stu-id="c069e-164">As Figure 7 shows, the page currently lists all of the suppliers including a View Products link.</span></span> <span data-ttu-id="c069e-165">查看产品上单击链接将你转到`ProductsForSupplierDetails.aspx`，并传递沿供应商的`SupplierID`中查询字符串。</span><span class="sxs-lookup"><span data-stu-id="c069e-165">Clicking on the View Products link will take you to `ProductsForSupplierDetails.aspx`, passing along the supplier's `SupplierID` in the querystring.</span></span>


<span data-ttu-id="c069e-166">[![每个供应商行包含视图产品链接](master-detail-filtering-across-two-pages-cs/_static/image18.png)](master-detail-filtering-across-two-pages-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-166">[![Each Supplier Row Contains a View Products Link](master-detail-filtering-across-two-pages-cs/_static/image18.png)](master-detail-filtering-across-two-pages-cs/_static/image17.png)</span></span>

<span data-ttu-id="c069e-167">**图 7**： 每个供应商行包含视图产品链接 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image19.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-167">**Figure 7**: Each Supplier Row Contains a View Products Link ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image19.png))</span></span>


## <a name="step-3-listing-the-suppliers-products-inproductsforsupplierdetailsaspx"></a><span data-ttu-id="c069e-168">步骤 3： 列出中的供应商的产品`ProductsForSupplierDetails.aspx`</span><span class="sxs-lookup"><span data-stu-id="c069e-168">Step 3: Listing the Supplier's Products in`ProductsForSupplierDetails.aspx`</span></span>

<span data-ttu-id="c069e-169">此时`SupplierListMaster.aspx`页发送到的用户`ProductsForSupplierDetails.aspx`，传递所选供应商的`SupplierID`中查询字符串。</span><span class="sxs-lookup"><span data-stu-id="c069e-169">At this point the `SupplierListMaster.aspx` page is sending users to `ProductsForSupplierDetails.aspx`, passing the selected supplier's `SupplierID` in the querystring.</span></span> <span data-ttu-id="c069e-170">本教程的最后一个步骤是在 GridView 中显示的产品`ProductsForSupplierDetails.aspx`其`SupplierID`等于`SupplierID`通过查询字符串。</span><span class="sxs-lookup"><span data-stu-id="c069e-170">The tutorial's final step is to display the products in a GridView in `ProductsForSupplierDetails.aspx` whose `SupplierID` equals the `SupplierID` passed in through the querystring.</span></span> <span data-ttu-id="c069e-171">若要通过添加到 GridView 完成本入门`ProductsForSupplierDetails.aspx`页上，使用一个名为的新 ObjectDataSource 控件`ProductsBySupplierDataSource`，它调用`GetProductsBySupplierID(supplierID)`方法从`ProductsBLL`类。</span><span class="sxs-lookup"><span data-stu-id="c069e-171">To accomplish this start by adding a GridView to the `ProductsForSupplierDetails.aspx` page, using a new ObjectDataSource control named `ProductsBySupplierDataSource` that invokes the `GetProductsBySupplierID(supplierID)` method from the `ProductsBLL` class.</span></span>


<span data-ttu-id="c069e-172">[![添加名为 ProductsBySupplierDataSource 新对象数据源](master-detail-filtering-across-two-pages-cs/_static/image21.png)](master-detail-filtering-across-two-pages-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-172">[![Add a New ObjectDataSource Named ProductsBySupplierDataSource](master-detail-filtering-across-two-pages-cs/_static/image21.png)](master-detail-filtering-across-two-pages-cs/_static/image20.png)</span></span>

<span data-ttu-id="c069e-173">**图 8**： 添加新对象数据源名为`ProductsBySupplierDataSource`([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-173">**Figure 8**: Add a New ObjectDataSource Named `ProductsBySupplierDataSource` ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image22.png))</span></span>


<span data-ttu-id="c069e-174">[![选择 ProductsBLL 类](master-detail-filtering-across-two-pages-cs/_static/image24.png)](master-detail-filtering-across-two-pages-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-174">[![Select the ProductsBLL Class](master-detail-filtering-across-two-pages-cs/_static/image24.png)](master-detail-filtering-across-two-pages-cs/_static/image23.png)</span></span>

<span data-ttu-id="c069e-175">**图 9**： 选择`ProductsBLL`类 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image25.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-175">**Figure 9**: Select the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image25.png))</span></span>


<span data-ttu-id="c069e-176">[![已调用 GetProductsBySupplierID(supplierID) 方法 ObjectDataSource](master-detail-filtering-across-two-pages-cs/_static/image27.png)](master-detail-filtering-across-two-pages-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-176">[![Have the ObjectDataSource Invoke the GetProductsBySupplierID(supplierID) Method](master-detail-filtering-across-two-pages-cs/_static/image27.png)](master-detail-filtering-across-two-pages-cs/_static/image26.png)</span></span>

<span data-ttu-id="c069e-177">**图 10**： 具有 ObjectDataSource 调用`GetProductsBySupplierID(supplierID)`方法 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-177">**Figure 10**: Have the ObjectDataSource Invoke the `GetProductsBySupplierID(supplierID)` Method ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image28.png))</span></span>


<span data-ttu-id="c069e-178">配置数据源向导的最后步骤要求我们提供的源`GetProductsBySupplierID(supplierID)`方法的 *`supplierID`* 参数。</span><span class="sxs-lookup"><span data-stu-id="c069e-178">The final step of the Configure Data Source wizard asks us to provide the source of the `GetProductsBySupplierID(supplierID)` method's *`supplierID`* parameter.</span></span> <span data-ttu-id="c069e-179">若要使用的查询字符串值，将参数源设置为查询字符串，并输入要使用的 QueryStringField 文本框中的查询字符串值的名称 (`SupplierID`)。</span><span class="sxs-lookup"><span data-stu-id="c069e-179">To use the querystring value, set the Parameter source to QueryString and enter the name of the querystring value to use in the QueryStringField textbox (`SupplierID`).</span></span>


<span data-ttu-id="c069e-180">[![填充供应商 Id 从供应商 Id 查询字符串值的参数值](master-detail-filtering-across-two-pages-cs/_static/image30.png)](master-detail-filtering-across-two-pages-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-180">[![Populate the supplierID Parameter Value from the SupplierID Querystring Value](master-detail-filtering-across-two-pages-cs/_static/image30.png)](master-detail-filtering-across-two-pages-cs/_static/image29.png)</span></span>

<span data-ttu-id="c069e-181">**图 11**： 填充 *`supplierID`* 参数值从`SupplierID`查询字符串值 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-181">**Figure 11**: Populate the *`supplierID`* Parameter Value from the `SupplierID` Querystring Value ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image31.png))</span></span>


<span data-ttu-id="c069e-182">这就是所有到它 ！</span><span class="sxs-lookup"><span data-stu-id="c069e-182">That's all there is to it!</span></span> <span data-ttu-id="c069e-183">图 12 显示`ProductsForSupplierDetails.aspx`页上通过单击东京 Traders 链接进行访问时`SupplierListMaster.aspx`。</span><span class="sxs-lookup"><span data-stu-id="c069e-183">Figure 12 shows the `ProductsForSupplierDetails.aspx` page when visited by clicking the Tokyo Traders link from `SupplierListMaster.aspx`.</span></span>


<span data-ttu-id="c069e-184">[![通过为全产品提供显示](master-detail-filtering-across-two-pages-cs/_static/image33.png)](master-detail-filtering-across-two-pages-cs/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-184">[![The Products Supplied by Tokyo Traders are Shown](master-detail-filtering-across-two-pages-cs/_static/image33.png)](master-detail-filtering-across-two-pages-cs/_static/image32.png)</span></span>

<span data-ttu-id="c069e-185">**图 12**: 产品提供的东京 Traders 显示 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-185">**Figure 12**: The Products Supplied by Tokyo Traders are Shown ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image34.png))</span></span>


## <a name="displaying-supplier-information-inproductsforsupplierdetailsaspx"></a><span data-ttu-id="c069e-186">显示中的供应商信息`ProductsForSupplierDetails.aspx`</span><span class="sxs-lookup"><span data-stu-id="c069e-186">Displaying Supplier Information in`ProductsForSupplierDetails.aspx`</span></span>

<span data-ttu-id="c069e-187">如图 12 所示，`ProductsForSupplierDetails.aspx`页只是列出由提供的产品`SupplierID`查询字符串中指定。</span><span class="sxs-lookup"><span data-stu-id="c069e-187">As Figure 12 shows, the `ProductsForSupplierDetails.aspx` page simply lists the products that are supplied by the `SupplierID` specified in the querystring.</span></span> <span data-ttu-id="c069e-188">有人直接发送到此页上，但是，将不知道图 12 显示了为全产品。</span><span class="sxs-lookup"><span data-stu-id="c069e-188">Someone sent directly to this page, however, would not know that Figure 12 is showing Tokyo Traders' products.</span></span> <span data-ttu-id="c069e-189">若要纠正此我们可以在此页还显示供应商信息。</span><span class="sxs-lookup"><span data-stu-id="c069e-189">To remedy this we can display supplier information in this page as well.</span></span>

<span data-ttu-id="c069e-190">首先，通过添加上面产品 GridView FormView。</span><span class="sxs-lookup"><span data-stu-id="c069e-190">Start by adding a FormView above the products GridView.</span></span> <span data-ttu-id="c069e-191">创建一个名为的新 ObjectDataSource 控件`SuppliersDataSource`，它调用`SuppliersBLL`类的`GetSupplierBySupplierID(supplierID)`方法。</span><span class="sxs-lookup"><span data-stu-id="c069e-191">Create a new ObjectDataSource control named `SuppliersDataSource` that invokes the `SuppliersBLL` class's `GetSupplierBySupplierID(supplierID)` method.</span></span>


<span data-ttu-id="c069e-192">[![选择 SuppliersBLL 类](master-detail-filtering-across-two-pages-cs/_static/image36.png)](master-detail-filtering-across-two-pages-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-192">[![Select the SuppliersBLL Class](master-detail-filtering-across-two-pages-cs/_static/image36.png)](master-detail-filtering-across-two-pages-cs/_static/image35.png)</span></span>

<span data-ttu-id="c069e-193">**图 13**： 选择`SuppliersBLL`类 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image37.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-193">**Figure 13**: Select the `SuppliersBLL` Class ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image37.png))</span></span>


<span data-ttu-id="c069e-194">[![已调用 GetSupplierBySupplierID(supplierID) 方法 ObjectDataSource](master-detail-filtering-across-two-pages-cs/_static/image39.png)](master-detail-filtering-across-two-pages-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-194">[![Have the ObjectDataSource Invoke the GetSupplierBySupplierID(supplierID) Method](master-detail-filtering-across-two-pages-cs/_static/image39.png)](master-detail-filtering-across-two-pages-cs/_static/image38.png)</span></span>

<span data-ttu-id="c069e-195">**图 14**： 具有 ObjectDataSource 调用`GetSupplierBySupplierID(supplierID)`方法 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-195">**Figure 14**: Have the ObjectDataSource Invoke the `GetSupplierBySupplierID(supplierID)` Method ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image40.png))</span></span>


<span data-ttu-id="c069e-196">与`ProductsBySupplierDataSource`，具有 *`supplierID`* 参数分配的值为`SupplierID`查询字符串值。</span><span class="sxs-lookup"><span data-stu-id="c069e-196">As with the `ProductsBySupplierDataSource`, have the *`supplierID`* parameter assigned the value of the `SupplierID` querystring value.</span></span>


<span data-ttu-id="c069e-197">[![填充供应商 Id 从供应商 Id 查询字符串值的参数值](master-detail-filtering-across-two-pages-cs/_static/image42.png)](master-detail-filtering-across-two-pages-cs/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-197">[![Populate the supplierID Parameter Value from the SupplierID Querystring Value](master-detail-filtering-across-two-pages-cs/_static/image42.png)](master-detail-filtering-across-two-pages-cs/_static/image41.png)</span></span>

<span data-ttu-id="c069e-198">**图 15**： 填充 *`supplierID`* 参数值从`SupplierID`查询字符串值 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image43.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-198">**Figure 15**: Populate the *`supplierID`* Parameter Value from the `SupplierID` Querystring Value ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image43.png))</span></span>


<span data-ttu-id="c069e-199">在绑定到设计视图中 ObjectDataSource FormView，Visual Studio 会自动创建 FormView `ItemTemplate`， `InsertItemTemplate`，和`EditItemTemplate`与每个返回的数据字段的标签和文本框 Web 控件对象数据源。</span><span class="sxs-lookup"><span data-stu-id="c069e-199">When binding the FormView to the ObjectDataSource in the Design view, Visual Studio will automatically create the FormView's `ItemTemplate`, `InsertItemTemplate`, and `EditItemTemplate` with Label and TextBox Web controls for each of the data fields returned by the ObjectDataSource.</span></span> <span data-ttu-id="c069e-200">由于我们只想要显示供应商信息随意删除`InsertItemTemplate`和`EditItemTemplate`。</span><span class="sxs-lookup"><span data-stu-id="c069e-200">Since we just want to display supplier information feel free to remove the `InsertItemTemplate` and `EditItemTemplate`.</span></span> <span data-ttu-id="c069e-201">接下来，编辑 ItemTemplate，使其显示中的供应商的公司名称`<h3>`元素的地址、 城市、 国家/地区和公司名称下的电话号码。</span><span class="sxs-lookup"><span data-stu-id="c069e-201">Next, edit the ItemTemplate so that it displays the supplier's company name in an `<h3>` element and the address, city, country, and phone number beneath the company name.</span></span> <span data-ttu-id="c069e-202">或者，你可以手动设置 FormView`DataSourceID`并创建`ItemTemplate`标记中，正如我们做返回"[将数据显示与 ObjectDataSource](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md)"教程。</span><span class="sxs-lookup"><span data-stu-id="c069e-202">Alternatively, you can manually set the FormView's `DataSourceID` and create the `ItemTemplate` markup, as we did back in the "[Displaying Data With the ObjectDataSource](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md)" tutorial.</span></span>

<span data-ttu-id="c069e-203">后这些编辑 FormView 的声明性标记应看起来类似于以下：</span><span class="sxs-lookup"><span data-stu-id="c069e-203">After these edits the FormView's declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](master-detail-filtering-across-two-pages-cs/samples/sample3.aspx)]

<span data-ttu-id="c069e-204">图 16 显示的屏幕截图`ProductsForSupplierDetails.aspx`后上面详细说明的供应商信息已包含页上。</span><span class="sxs-lookup"><span data-stu-id="c069e-204">Figure 16 shows a screen shot of the `ProductsForSupplierDetails.aspx` page after the supplier information detailed above has been included.</span></span>


<span data-ttu-id="c069e-205">[![产品的列表包括有关供应商的摘要](master-detail-filtering-across-two-pages-cs/_static/image45.png)](master-detail-filtering-across-two-pages-cs/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-205">[![The List of Products Includes a Summary About the Supplier](master-detail-filtering-across-two-pages-cs/_static/image45.png)](master-detail-filtering-across-two-pages-cs/_static/image44.png)</span></span>

<span data-ttu-id="c069e-206">**图 16**： 产品的列表包括摘要有关供应商 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image46.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-206">**Figure 16**: The List of Products Includes a Summary About the Supplier ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image46.png))</span></span>


## <a name="applying-the-final-touches-for-theproductsforsupplierdetailsaspxui"></a><span data-ttu-id="c069e-207">有关应用最终接触`ProductsForSupplierDetails.aspx`UI</span><span class="sxs-lookup"><span data-stu-id="c069e-207">Applying the Final Touches for the`ProductsForSupplierDetails.aspx`UI</span></span>

<span data-ttu-id="c069e-208">以改进用户体验有此报表是几个我们应该是以对进行的添加件`ProductsForSupplierDetails.aspx`页。</span><span class="sxs-lookup"><span data-stu-id="c069e-208">To improve the user experience for this report there are a couple of additions we ought to make to the `ProductsForSupplierDetails.aspx` page.</span></span> <span data-ttu-id="c069e-209">当前用户可以从的唯一方法`ProductsForSupplierDetails.aspx`页面回发到供应商提供的列表是单击其浏览器后退按钮。</span><span class="sxs-lookup"><span data-stu-id="c069e-209">Currently the only way a user can go from the `ProductsForSupplierDetails.aspx` page back to the list of suppliers is to click their browser's back button.</span></span> <span data-ttu-id="c069e-210">让我们添加超链接控件与`ProductsForSupplierDetails.aspx`页链接回`SupplierListMaster.aspx`，提供要返回到主列表的用户的另一种方法。</span><span class="sxs-lookup"><span data-stu-id="c069e-210">Let's add a HyperLink control to the `ProductsForSupplierDetails.aspx` page that links back to `SupplierListMaster.aspx`, providing another way for the user to return to the master list.</span></span>


<span data-ttu-id="c069e-211">[![添加用于将用户返回至 SupplierListMaster.aspx 的超链接控件](master-detail-filtering-across-two-pages-cs/_static/image48.png)](master-detail-filtering-across-two-pages-cs/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-211">[![Add a HyperLink Control to Take the User Back to SupplierListMaster.aspx](master-detail-filtering-across-two-pages-cs/_static/image48.png)](master-detail-filtering-across-two-pages-cs/_static/image47.png)</span></span>

<span data-ttu-id="c069e-212">**图 17**： 添加超链接控件以将用户返回到`SupplierListMaster.aspx`([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image49.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-212">**Figure 17**: Add a HyperLink Control to Take the User Back to `SupplierListMaster.aspx` ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image49.png))</span></span>


<span data-ttu-id="c069e-213">如果用户单击不具有任何产品的供应商提供的查看产品链接`ProductsBySupplierDataSource`中的 ObjectDataSource`ProductsForSupplierDetails.aspx`不会返回任何结果。</span><span class="sxs-lookup"><span data-stu-id="c069e-213">If the user clicks on the View Products link for a supplier that doesn't have any products, the `ProductsBySupplierDataSource` ObjectDataSource in `ProductsForSupplierDetails.aspx` won't return any results.</span></span> <span data-ttu-id="c069e-214">绑定到 ObjectDataSource GridView 不会呈现导致用户的浏览器中的页上的空白区域中的任何标记。</span><span class="sxs-lookup"><span data-stu-id="c069e-214">The GridView bound to the ObjectDataSource won't render any markup resulting in a blank region on the page in the user's browser.</span></span> <span data-ttu-id="c069e-215">若要更清楚地了解告知用户不是否存在与所选供应商相关的任何产品我们可以设置 GridView`EmptyDataText`到消息时，会发生这种情况，我们需要显示的属性。</span><span class="sxs-lookup"><span data-stu-id="c069e-215">To more clearly communicate to the user that there are no products associated with the selected supplier we can set the GridView's `EmptyDataText` property to the message we want displayed when such a situation arises.</span></span> <span data-ttu-id="c069e-216">我已设置该属性为"没有此供应商提供的产品"</span><span class="sxs-lookup"><span data-stu-id="c069e-216">I've set this property to "There are no products provided by this supplier�"</span></span>

<span data-ttu-id="c069e-217">默认情况下，罗斯文数据库中的所有供应商提供至少一个产品。</span><span class="sxs-lookup"><span data-stu-id="c069e-217">By default, all suppliers in the Northwinds database provide at least one product.</span></span> <span data-ttu-id="c069e-218">但是，对于本教程我手动修改`Products`表以便供应商 Escargots Nouveaux 不再与任何产品相关联。</span><span class="sxs-lookup"><span data-stu-id="c069e-218">However, for this tutorial I've manually modified the `Products` table so that the supplier Escargots Nouveaux is no longer associated with any products.</span></span> <span data-ttu-id="c069e-219">图 18 显示的详细信息页 Escargots Nouveaux 在后进行此更改。</span><span class="sxs-lookup"><span data-stu-id="c069e-219">Figure 18 shows the details page for Escargots Nouveaux after this change has been made.</span></span>


<span data-ttu-id="c069e-220">[![用户将收到通知供应商不提供任何产品](master-detail-filtering-across-two-pages-cs/_static/image51.png)](master-detail-filtering-across-two-pages-cs/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="c069e-220">[![Users are Informed that the Supplier Doesn't Provide Any Products](master-detail-filtering-across-two-pages-cs/_static/image51.png)](master-detail-filtering-across-two-pages-cs/_static/image50.png)</span></span>

<span data-ttu-id="c069e-221">**图 18**： 供应商不提供任何产品通知用户 ([单击以查看实际尺寸的图像](master-detail-filtering-across-two-pages-cs/_static/image52.png))</span><span class="sxs-lookup"><span data-stu-id="c069e-221">**Figure 18**: Users are Informed that the Supplier Doesn't Provide Any Products ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image52.png))</span></span>


## <a name="summary"></a><span data-ttu-id="c069e-222">摘要</span><span class="sxs-lookup"><span data-stu-id="c069e-222">Summary</span></span>

<span data-ttu-id="c069e-223">尽管主/详细信息报表可以显示 master 和详细信息记录在一页，在很多网站中它们被分隔跨两个 web 页。</span><span class="sxs-lookup"><span data-stu-id="c069e-223">While master/detail reports can display both the master and detail records on a single page, in many websites they are separated out across two web pages.</span></span> <span data-ttu-id="c069e-224">在本教程中我们介绍了如何通过将列在"主"网页中 GridView 供应商和"详细信息"页中列出的关联的产品实现主/详细信息报表。</span><span class="sxs-lookup"><span data-stu-id="c069e-224">In this tutorial we looked at how to implement such a master/detail report by having the suppliers listed in a GridView in the "master" web page and the associated products listed in the "details" page.</span></span> <span data-ttu-id="c069e-225">每个供应商中行母板网页包含指向传递的行的详细信息页面的`SupplierID`值。</span><span class="sxs-lookup"><span data-stu-id="c069e-225">Each supplier row in the master web page contained a link to the details page that passed along the row's `SupplierID` value.</span></span> <span data-ttu-id="c069e-226">可以使用 GridView HyperLinkField 轻松地添加此类特定行的链接。</span><span class="sxs-lookup"><span data-stu-id="c069e-226">Such row-specific links can be easily added using the GridView's HyperLinkField.</span></span>

<span data-ttu-id="c069e-227">在详细信息页中指定的提供程序检索这些产品已进行调用来完成`ProductsBLL`类的`GetProductsBySupplierID(supplierID)`方法。</span><span class="sxs-lookup"><span data-stu-id="c069e-227">In the details page retrieving those products for the specified supplier was accomplished by invoking the `ProductsBLL` class's `GetProductsBySupplierID(supplierID)` method.</span></span> <span data-ttu-id="c069e-228">*`supplierID`* 作为参数源使用查询字符串以声明方式指定参数值。</span><span class="sxs-lookup"><span data-stu-id="c069e-228">The *`supplierID`* parameter value was specified declaratively using the querystring as the parameter source.</span></span> <span data-ttu-id="c069e-229">我们还了解了如何在使用 FormView 的详细信息页中显示的供应商详细信息。</span><span class="sxs-lookup"><span data-stu-id="c069e-229">We also looked at how to display the supplier details in the details page using a FormView.</span></span>

<span data-ttu-id="c069e-230">我们[下一教程](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)是主/详细信息报表上的最后一个。</span><span class="sxs-lookup"><span data-stu-id="c069e-230">Our [next tutorial](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) is the final one on master/detail reports.</span></span> <span data-ttu-id="c069e-231">我们将了解如何在每行都有一个选择按钮 GridView 中显示的产品列表。</span><span class="sxs-lookup"><span data-stu-id="c069e-231">We'll look at how to display a list of products in a GridView where each row has a Select button.</span></span> <span data-ttu-id="c069e-232">单击选择按钮将同一页上的说明控件中显示该产品的详细信息。</span><span class="sxs-lookup"><span data-stu-id="c069e-232">Clicking on the Select button will display that product's details in a DetailsView control on the same page.</span></span>

<span data-ttu-id="c069e-233">尽情享受编程 ！</span><span class="sxs-lookup"><span data-stu-id="c069e-233">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="c069e-234">关于作者</span><span class="sxs-lookup"><span data-stu-id="c069e-234">About the Author</span></span>

<span data-ttu-id="c069e-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)，作者的七个 ASP/ASP.NET 书籍和的创始人[4GuysFromRolla.com](http://www.4guysfromrolla.com)，自 1998 年使用与 Microsoft Web 技术。</span><span class="sxs-lookup"><span data-stu-id="c069e-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="c069e-236">Scott 的作用是作为独立的顾问、 培训师和编写器。</span><span class="sxs-lookup"><span data-stu-id="c069e-236">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="c069e-237">最新书籍是[ *Sam 教授自己 ASP.NET 2.0 24 小时内*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)。</span><span class="sxs-lookup"><span data-stu-id="c069e-237">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="c069e-238">他可以达到在[ mitchell@4GuysFromRolla.com。](mailto:mitchell@4GuysFromRolla.com)或通过他的博客，其中可以找到在[http://ScottOnWriting.NET](http://ScottOnWriting.NET)。</span><span class="sxs-lookup"><span data-stu-id="c069e-238">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="c069e-239">特别感谢</span><span class="sxs-lookup"><span data-stu-id="c069e-239">Special Thanks To</span></span>

<span data-ttu-id="c069e-240">本教程系列已由许多有用的审阅者评审。</span><span class="sxs-lookup"><span data-stu-id="c069e-240">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="c069e-241">本教程中的前导审阅者已希尔顿 Giesenow。</span><span class="sxs-lookup"><span data-stu-id="c069e-241">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="c069e-242">对感兴趣查看我即将到来的 MSDN 文章？</span><span class="sxs-lookup"><span data-stu-id="c069e-242">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="c069e-243">如果是这样，删除我一行[ mitchell@4GuysFromRolla.com。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c069e-243">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="c069e-244">[上一页](master-detail-filtering-with-two-dropdownlists-cs.md)
[下一页](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)</span><span class="sxs-lookup"><span data-stu-id="c069e-244">[Previous](master-detail-filtering-with-two-dropdownlists-cs.md)
[Next](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)</span></span>
